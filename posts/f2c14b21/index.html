<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>esä¸­çš„å„ç§åˆ†è¯å™¨ | å°äº”çš„ä¸ªäººæ‚è´§é“º</title><meta name="author" content="å°äº”"><meta name="copyright" content="å°äº”"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="ESå†…ç½®çš„Analyzeråˆ†æå™¨esè‡ªå¸¦äº†è®¸å¤šå†…ç½®çš„Analyzeråˆ†æå™¨ï¼Œæ— éœ€é…ç½®å°±å¯ä»¥ç›´æ¥åœ¨indexä¸­ä½¿ç”¨ï¼š  æ ‡å‡†åˆ†è¯å™¨ï¼ˆstandardï¼‰ï¼šä»¥å•è¯è¾¹ç•Œåˆ‡åˆ†å­—ç¬¦ä¸²ä¸ºtermsï¼Œæ ¹æ®Unicodeæ–‡æœ¬åˆ†å‰²ç®—æ³•ã€‚å®ƒä¼šç§»é™¤å¤§éƒ¨åˆ†çš„æ ‡ç‚¹ç¬¦å·ï¼Œå°å†™åˆ†è¯åçš„termï¼Œæ”¯æŒåœç”¨è¯ã€‚ ç®€å•åˆ†è¯å™¨ï¼ˆsimpleï¼‰ï¼šè¯¥åˆ†è¯å™¨ä¼šåœ¨é‡åˆ°éå­—æ¯æ—¶åˆ‡åˆ†å­—ç¬¦ä¸²ï¼Œå°å†™æ‰€æœ‰çš„termã€‚ ç©ºæ ¼åˆ†è¯å™¨ï¼ˆwhitespaceï¼‰ï¼š"><meta property="og:type" content="article"><meta property="og:title" content="esä¸­çš„å„ç§åˆ†è¯å™¨"><meta property="og:url" content="https://xiaowu95.wang/posts/f2c14b21/"><meta property="og:site_name" content="å°äº”çš„ä¸ªäººæ‚è´§é“º"><meta property="og:description" content="ESå†…ç½®çš„Analyzeråˆ†æå™¨esè‡ªå¸¦äº†è®¸å¤šå†…ç½®çš„Analyzeråˆ†æå™¨ï¼Œæ— éœ€é…ç½®å°±å¯ä»¥ç›´æ¥åœ¨indexä¸­ä½¿ç”¨ï¼š  æ ‡å‡†åˆ†è¯å™¨ï¼ˆstandardï¼‰ï¼šä»¥å•è¯è¾¹ç•Œåˆ‡åˆ†å­—ç¬¦ä¸²ä¸ºtermsï¼Œæ ¹æ®Unicodeæ–‡æœ¬åˆ†å‰²ç®—æ³•ã€‚å®ƒä¼šç§»é™¤å¤§éƒ¨åˆ†çš„æ ‡ç‚¹ç¬¦å·ï¼Œå°å†™åˆ†è¯åçš„termï¼Œæ”¯æŒåœç”¨è¯ã€‚ ç®€å•åˆ†è¯å™¨ï¼ˆsimpleï¼‰ï¼šè¯¥åˆ†è¯å™¨ä¼šåœ¨é‡åˆ°éå­—æ¯æ—¶åˆ‡åˆ†å­—ç¬¦ä¸²ï¼Œå°å†™æ‰€æœ‰çš„termã€‚ ç©ºæ ¼åˆ†è¯å™¨ï¼ˆwhitespaceï¼‰ï¼š"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://xiaowu95.wang/img/nba-logo27.jpg"><meta property="article:published_time" content="2021-09-19T16:00:00.000Z"><meta property="article:modified_time" content="2023-06-16T02:13:02.000Z"><meta property="article:author" content="å°äº”"><meta property="article:tag" content="elasticsearch"><meta property="article:tag" content="elastic stack"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://xiaowu95.wang/img/nba-logo27.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "esä¸­çš„å„ç§åˆ†è¯å™¨",
  "url": "https://xiaowu95.wang/posts/f2c14b21/",
  "image": "https://xiaowu95.wang/img/nba-logo27.jpg",
  "datePublished": "2021-09-19T16:00:00.000Z",
  "dateModified": "2023-06-16T02:13:02.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "å°äº”",
      "url": "https://xiaowu95.wang"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://xiaowu95.wang/posts/f2c14b21/"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="google-site-verification" content="kHfLZxYQ7y3s3AR7gyJDdJkQvGNjQsvopp6N3gEEx0s"><meta name="baidu-site-verification" content="codeva-aVS4F6wAjS"><link rel="manifest" href="/wang-xiaowu/pwa/site.webmanifest"><meta name="msapplication-TileColor" content="#fff"><link rel="apple-touch-icon" sizes="180x180" href="/wang-xiaowu/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/wang-xiaowu/pwa/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/wang-xiaowu/pwa/favicon-16x16.png"><link rel="mask-icon" href="/wang-xiaowu/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.0.33/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>(()=>{const t={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:t,getScript:(e,t={})=>new Promise(((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach((([e,t])=>n.setAttribute(e,t))),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)})),getCSS:(e,t)=>new Promise(((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)})),addGlobalFn:(e,t,o=!1,a=window)=>{const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const o=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},a=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};btf.activateDarkMode=o,btf.activateLightMode=a;const n=t.get("theme"),c=window.matchMedia("(prefers-color-scheme: dark)"),r=window.matchMedia("(prefers-color-scheme: light)");if(void 0===n){if(r.matches)a();else if(c.matches)o();else{const e=(new Date).getHours();e<=6||e>=18?o():a()}c.addEventListener("change",(()=>{void 0===t.get("theme")&&(e.matches?o():a())}))}else"light"===n?a():o();const d=t.get("aside-status");void 0!==d&&document.documentElement.classList.toggle("hide-aside","hide"===d);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?86cb34987e15c900c39e12ebdf08c50d";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),btf.addGlobalFn("pjaxComplete",(()=>{_hmt.push(["_trackPageview",window.location.pathname])}),"baidu_analytics")</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-1MFQ47191J"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-1MFQ47191J"),btf.addGlobalFn("pjaxComplete",(()=>{gtag("config","G-1MFQ47191J",{page_path:window.location.pathname})}),"google_analytics")</script><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"M91QAWRVY4",apiKey:"ecc30a5e06136e1cc491685e39801190",indexName:"xiaowu-blog",hitsPerPage:6,languages:{hits_empty:"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}",hits_stats:"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œè€—æ—¶ ${time} æ¯«ç§’"}},localSearch:void 0,translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"ç¹",msgToSimplifiedChinese:"ç°¡"},highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:400,highlightFullpage:!0,highlightMacStyle:!0},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶å¤±è´¥",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},relativeDate:{homepage:!0,post:!0},runtime:"å¤©",dateSuffix:{just:"åˆšåˆš",min:"åˆ†é’Ÿå‰",hour:"å°æ—¶å‰",day:"å¤©å‰",month:"ä¸ªæœˆå‰"},copyright:{limitCount:150,languages:{author:"ä½œè€…: å°äº”",link:"é“¾æ¥: ",source:"æ¥æº: å°äº”çš„ä¸ªäººæ‚è´§é“º",info:"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},lightbox:"fancybox",Snackbar:{chs_to_cht:"å·²åˆ‡æ¢ä¸ºç¹ä½“ä¸­æ–‡",cht_to_chs:"å·²åˆ‡æ¢ä¸ºç®€ä½“ä¸­æ–‡",day_to_night:"å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼",night_to_day:"å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"bottom-left"},infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js",buttonText:"åŠ è½½æ›´å¤š"},isPhotoFigcaption:!1,islazyloadPlugin:!0,isAnchor:!0,percent:{toc:!0,rightside:!0},autoDarkmode:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"esä¸­çš„å„ç§åˆ†è¯å™¨",isHighlightShrink:!1,isToc:!0,pageType:"post"}</script><script src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><link rel="stylesheet" href="/css/font.css"><style>.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><link rel="stylesheet" href="/css/titleStyle.css"><link rel="stylesheet" href="/css/mouse.css"><link rel="stylesheet" href="/css/custom.css"><style>.card-announcement .social-button{margin:.6rem 0 0 0;text-align:center}.card-announcement .social-button a{display:block;background-color:var(--btn-bg);color:var(--btn-color);text-align:center;line-height:2.4;margin:4px 0}.card-announcement .social-button a:hover{background-color:var(--btn-hover-color)}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper/swiper/swiper.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper/swiper/swiperstyle.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css"><link rel="alternate" href="/atom.xml" title="å°äº”çš„ä¸ªäººæ‚è´§é“º" type="application/atom+xml"></head><body><script>window.paceOptions={restartOnPushState:!1},btf.addGlobalFn("pjaxSend",(()=>{Pace.restart()}),"pace_restart")</script><link rel="stylesheet" href="/css/pace.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/img/avatar.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">554</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">168</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">55</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/github/"><i class="fa-fw fa-solid fa-address-card"></i> <span>å…³äºæˆ‘</span></a></div><div class="menus_item"><a class="site-page" href="/ac/"><i class="fa-fw fa-solid fa-wind"></i> <span>ä¾¿æºå°ç©ºè°ƒ</span></a></div><div class="menus_item"><a class="site-page" href="/talking/"><i class="fa-fw fa-solid fa-walkie-talkie"></i> <span>åšå®¢çŸ­è®°</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-compass"></i> <span>ç›®å½•</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>å½’æ¡£</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-otter"></i> <span>æ‚è®°</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/songs/"><i class="fa-fw fas fa-music"></i> <span>éŸ³ä¹</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i> <span>å›¾åº“</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fa-solid fa-film"></i> <span>å½±è§†|ç•ªå‰§</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book faa-fload"></i> <span>ä¹¦å•</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad faa-fload"></i> <span>æ¸¸æˆ</span></a></li><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fa-brands fa-bilibili"></i> <span>BiliBiliè¿½ç•ª</span></a></li><li><a class="site-page child" href="/cinemas/"><i class="fa-fw fa-solid fa-video"></i> <span>BiliBiliè¿½å‰§</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i> <span>ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa-solid fa-user-group"></i> <span>å‹é“¾</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-mug-saucer"></i> <span>Website Memo</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://console.leancloud.app/apps"><span>ğŸš€ LeanCloud</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://vercel.com/dashboard"><span>ğŸš€ Vercel</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tongji.baidu.com/main/overview/10000432799/overview/index"><span>ğŸš€ ç™¾åº¦ç»Ÿè®¡</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://ziyuan.baidu.com/dashboard/index"><span>ğŸš€ ç™¾åº¦ç«™ç‚¹ç®¡ç†</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://analytics.google.com/analytics/web/"><span>ğŸš€ è°·æ­Œåˆ†æ</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://search.google.com/search-console?hl=zh-cn"><span>ğŸš€ è°·æ­Œç«™ç‚¹ç®¡ç†</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.google.com/adsense/new/u/0/pub-1375421173355613/home"><span>ğŸš€ è°·æ­Œå¹¿å‘Šè”ç›Ÿ</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.algolia.com/"><span>ğŸš€ Algolia</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://sms-activate.org/cn/"><span>ğŸš€ Sms-activate</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://chatgpt.com/"><span>ğŸš€ ChatGPT</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://gemini.google.com/"><span>ğŸš€ Gemini</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://poe.com/"><span>ğŸš€ Poeèšåˆ</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.idc.net/clientarea"><span>ğŸš€ åæµªäº‘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.west.cn/"><span>ğŸš€ è¥¿éƒ¨æ•°æ®</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://shandianpro.com/#/dashboard"><span>ğŸš€ é—ªç”µ</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.huojian.homes/"><span>ğŸš€ å°ç«ç®­</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/winston779/gougou"><span>ğŸš€ ç‹—ç‹—åŠ é€Ÿ</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/nba-logo27.jpg)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">å°äº”çš„ä¸ªäººæ‚è´§é“º</span></a><a class="nav-page-title" href="/"><span class="site-name">esä¸­çš„å„ç§åˆ†è¯å™¨</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i> <span>è¿”å›é¦–é¡µ</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>æœç´¢</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/github/"><i class="fa-fw fa-solid fa-address-card"></i> <span>å…³äºæˆ‘</span></a></div><div class="menus_item"><a class="site-page" href="/ac/"><i class="fa-fw fa-solid fa-wind"></i> <span>ä¾¿æºå°ç©ºè°ƒ</span></a></div><div class="menus_item"><a class="site-page" href="/talking/"><i class="fa-fw fa-solid fa-walkie-talkie"></i> <span>åšå®¢çŸ­è®°</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-compass"></i> <span>ç›®å½•</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>å½’æ¡£</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-otter"></i> <span>æ‚è®°</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/songs/"><i class="fa-fw fas fa-music"></i> <span>éŸ³ä¹</span></a></li><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i> <span>å›¾åº“</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fa-solid fa-film"></i> <span>å½±è§†|ç•ªå‰§</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book faa-fload"></i> <span>ä¹¦å•</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad faa-fload"></i> <span>æ¸¸æˆ</span></a></li><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fa-brands fa-bilibili"></i> <span>BiliBiliè¿½ç•ª</span></a></li><li><a class="site-page child" href="/cinemas/"><i class="fa-fw fa-solid fa-video"></i> <span>BiliBiliè¿½å‰§</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-comment-dots"></i> <span>ç•™è¨€æ¿</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa-solid fa-user-group"></i> <span>å‹é“¾</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-mug-saucer"></i> <span>Website Memo</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://console.leancloud.app/apps"><span>ğŸš€ LeanCloud</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://vercel.com/dashboard"><span>ğŸš€ Vercel</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://tongji.baidu.com/main/overview/10000432799/overview/index"><span>ğŸš€ ç™¾åº¦ç»Ÿè®¡</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://ziyuan.baidu.com/dashboard/index"><span>ğŸš€ ç™¾åº¦ç«™ç‚¹ç®¡ç†</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://analytics.google.com/analytics/web/"><span>ğŸš€ è°·æ­Œåˆ†æ</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://search.google.com/search-console?hl=zh-cn"><span>ğŸš€ è°·æ­Œç«™ç‚¹ç®¡ç†</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.google.com/adsense/new/u/0/pub-1375421173355613/home"><span>ğŸš€ è°·æ­Œå¹¿å‘Šè”ç›Ÿ</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.algolia.com/"><span>ğŸš€ Algolia</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://sms-activate.org/cn/"><span>ğŸš€ Sms-activate</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://chatgpt.com/"><span>ğŸš€ ChatGPT</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://gemini.google.com/"><span>ğŸš€ Gemini</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://poe.com/"><span>ğŸš€ Poeèšåˆ</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="http://www.idc.net/clientarea"><span>ğŸš€ åæµªäº‘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.west.cn/"><span>ğŸš€ è¥¿éƒ¨æ•°æ®</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://shandianpro.com/#/dashboard"><span>ğŸš€ é—ªç”µ</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://www.huojian.homes/"><span>ğŸš€ å°ç«ç®­</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/winston779/gougou"><span>ğŸš€ ç‹—ç‹—åŠ é€Ÿ</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">esä¸­çš„å„ç§åˆ†è¯å™¨<a class="post-edit-link" href="https://github.com/wang-xiaowu/wang-xiaowu.github.io/issues/new?_posts/elasticsearch/esä¸­çš„å„ç§åˆ†è¯å™¨.md" rel="external nofollow noreferrer" title="ç¼–è¾‘" target="_blank"><i class="fas fa-pencil-alt"></i></a></h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2021-09-19T16:00:00.000Z" title="å‘è¡¨äº 2021-09-20 00:00:00">2021-09-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-06-16T02:13:02.000Z" title="æ›´æ–°äº 2023-06-16 10:13:02">2023-06-16</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/elasticsearch/">elasticsearch</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">æ€»å­—æ•°:</span><span class="word-count">4.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>18åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:365,&quot;messagePrev&quot;:&quot;è·ç¦»ä¸Šä¸€æ¬¡æ›´æ–°è¯¥æ–‡ç« å·²ç»è¿‡äº†&quot;,&quot;messageNext&quot;:&quot;å¤©ï¼Œæ–‡ç« æ‰€æè¿°çš„å…§å®¹å¯èƒ½å·²ç»å‘ç”Ÿå˜åŒ–ï¼Œè¯·ç•™æ„ã€‚&quot;,&quot;postUpdate&quot;:&quot;2023-06-16 10:13:02&quot;}" hidden></div><h1 id="ESå†…ç½®çš„Analyzeråˆ†æå™¨"><a href="#ESå†…ç½®çš„Analyzeråˆ†æå™¨" class="headerlink" title="ESå†…ç½®çš„Analyzeråˆ†æå™¨"></a>ESå†…ç½®çš„Analyzeråˆ†æå™¨</h1><p>esè‡ªå¸¦äº†è®¸å¤šå†…ç½®çš„Analyzeråˆ†æå™¨ï¼Œæ— éœ€é…ç½®å°±å¯ä»¥ç›´æ¥åœ¨indexä¸­ä½¿ç”¨ï¼š</p><ul><li>æ ‡å‡†åˆ†è¯å™¨ï¼ˆstandardï¼‰ï¼šä»¥å•è¯è¾¹ç•Œåˆ‡åˆ†å­—ç¬¦ä¸²ä¸ºtermsï¼Œæ ¹æ®Unicodeæ–‡æœ¬åˆ†å‰²ç®—æ³•ã€‚å®ƒä¼šç§»é™¤å¤§éƒ¨åˆ†çš„æ ‡ç‚¹ç¬¦å·ï¼Œå°å†™åˆ†è¯åçš„termï¼Œæ”¯æŒåœç”¨è¯ã€‚</li><li>ç®€å•åˆ†è¯å™¨ï¼ˆsimpleï¼‰ï¼šè¯¥åˆ†è¯å™¨ä¼šåœ¨é‡åˆ°éå­—æ¯æ—¶åˆ‡åˆ†å­—ç¬¦ä¸²ï¼Œå°å†™æ‰€æœ‰çš„termã€‚</li><li>ç©ºæ ¼åˆ†è¯å™¨ï¼ˆwhitespaceï¼‰ï¼šé‡åˆ°ç©ºæ ¼å­—ç¬¦æ—¶åˆ‡åˆ†å­—ç¬¦ä¸²ï¼Œ</li><li>åœç”¨è¯åˆ†è¯å™¨ï¼ˆstopï¼‰ï¼šç±»ä¼¼ç®€å•åˆ†è¯å™¨ï¼ŒåŒæ—¶æ”¯æŒç§»é™¤åœç”¨è¯ã€‚</li><li>å…³é”®è¯åˆ†è¯å™¨ï¼ˆkeywordï¼‰ï¼šæ— æ“ä½œåˆ†è¯å™¨ï¼Œä¼šè¾“å‡ºä¸è¾“å…¥ç›¸åŒçš„å†…å®¹ä½œä¸ºä¸€ä¸ªsingle termã€‚</li><li>æ¨¡å¼åˆ†è¯å™¨ï¼ˆpatternï¼‰ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è®²å­—ç¬¦ä¸²ä¸”åˆ†ä¸ºtermsã€‚æ”¯æŒå°å†™å­—æ¯å’Œåœç”¨è¯ã€‚</li><li>è¯­è¨€åˆ†è¯å™¨ï¼ˆlanguageï¼‰ï¼šæ”¯æŒè®¸å¤šåŸºäºç‰¹å®šè¯­è¨€çš„åˆ†è¯å™¨ï¼Œæ¯”å¦‚englishæˆ–frenchã€‚</li><li>ç­¾ååˆ†è¯å™¨ï¼ˆfingerprintï¼‰ï¼šæ˜¯ä¸€ä¸ªä¸“å®¶åˆ†è¯å™¨ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªç­¾åï¼Œå¯ä»¥ç”¨äºå»é‡æ£€æµ‹ã€‚</li><li>è‡ªå®šä¹‰åˆ†è¯å™¨ï¼šå¦‚æœå†…ç½®åˆ†è¯å™¨æ— æ³•æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œå¯ä»¥è‡ªå®šä¹‰customåˆ†è¯å™¨ï¼Œæ ¹æ®ä¸åŒçš„character filtersï¼Œtokenizerï¼Œtoken filtersçš„ç»„åˆ ã€‚ä¾‹å¦‚IKå°±æ˜¯è‡ªå®šä¹‰åˆ†è¯å™¨ã€‚</li><li>word_delimiterï¼šå°†ä¸€ä¸ªå•è¯å†æ‹†æˆå­åˆ†è¯</li></ul><p>è¯¦è§æ–‡æ¡£ï¼š<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.html</a></p><h1 id="æ‹¼éŸ³åˆ†è¯å™¨"><a href="#æ‹¼éŸ³åˆ†è¯å™¨" class="headerlink" title="æ‹¼éŸ³åˆ†è¯å™¨"></a>æ‹¼éŸ³åˆ†è¯å™¨</h1><h2 id="1-åœ¨çº¿å®‰è£…"><a href="#1-åœ¨çº¿å®‰è£…" class="headerlink" title="1. åœ¨çº¿å®‰è£…"></a>1. åœ¨çº¿å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥å®¹å™¨å†…éƒ¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it elasticsearch /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨çº¿ä¸‹è½½å¹¶å®‰è£…</span></span><br><span class="line">./bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-pinyin/releases/download/v7.12.1/elasticsearch-analysis-pinyin-7.12.1.zip</span><br><span class="line"></span><br><span class="line"><span class="comment">#é€€å‡º</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment">#é‡å¯å®¹å™¨</span></span><br><span class="line">docker restart elasticsearch</span><br></pre></td></tr></table></figure><p>è¦å®ç°æ ¹æ®å­—æ¯åšè¡¥å…¨ï¼Œå°±å¿…é¡»å¯¹æ–‡æ¡£æŒ‰ç…§æ‹¼éŸ³åˆ†è¯ã€‚åœ¨GitHubä¸Šæ°å¥½æœ‰elasticsearchçš„æ‹¼éŸ³åˆ†è¯æ’ä»¶ã€‚åœ°å€ï¼š<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/medcl/elasticsearch-analysis-pinyin">https://github.com/medcl/elasticsearch-analysis-pinyin</a></p><img src="/img/loading.gif" data-lazy-src="/posts/f2c14b21/image-20210723205932746.png" title="image-20210723205932746"><h2 id="2-ç¦»çº¿å®‰è£…"><a href="#2-ç¦»çº¿å®‰è£…" class="headerlink" title="2. ç¦»çº¿å®‰è£…"></a>2. ç¦»çº¿å®‰è£…</h2><p>å°†zipä¸‹è½½åˆ°æœ¬åœ°, è§£å‹åˆ°<code>plugins</code>ä¸‹çš„<code>analysis-pinyin</code>æ–‡ä»¶å¤¹ä¸‹</p><h2 id="3-pinyinåˆ†è¯å™¨çš„é…ç½®å‚æ•°åˆ—è¡¨"><a href="#3-pinyinåˆ†è¯å™¨çš„é…ç½®å‚æ•°åˆ—è¡¨" class="headerlink" title="3. pinyinåˆ†è¯å™¨çš„é…ç½®å‚æ•°åˆ—è¡¨"></a>3. pinyinåˆ†è¯å™¨çš„é…ç½®å‚æ•°åˆ—è¡¨</h2><table><thead><tr><th align="left">å‚æ•°</th><th align="left">é»˜è®¤å€¼</th><th align="left">è¯´æ˜</th><th>æ³¨é‡Š</th></tr></thead><tbody><tr><td align="left">keep_first_letter</td><td align="left">true</td><td align="left">åˆ˜å¾·å&gt;ldh</td><td>æ˜¯å¦éœ€è¦<code>æ‹¼éŸ³é¦–å­—æ¯</code></td></tr><tr><td align="left">keep_separate_first_letter</td><td align="left">false</td><td align="left">åˆ˜å¾·å&gt;l,d,h</td><td>æ˜¯å¦éœ€è¦<code>æ‹¼éŸ³é¦–å­—æ¯åˆ†å¼€æ¯ä¸ªå­—æ¯</code>ï¼Œä¸ºäº†ä¸è®©æœç´¢ç»“æœè¿‡äºæ··ä¹±ã€æ— å…³ï¼Œè¿™ä¸ªé€‰é¡¹å°±åº”è¯¥ä¸ºé»˜è®¤å€¼false</td></tr><tr><td align="left">limit_first_letter_length</td><td align="left">16</td><td align="left">set max length of the first_letter result(è®¾ç½® first_letter ç»“æœçš„æœ€å¤§é•¿åº¦)</td><td>é™åˆ¶ä¸€ä¸ªé•¿è¯çš„å„å­—æ‹¼éŸ³é¦–å­—æ¯è¿èµ·æ¥çš„æœ€å¤§é•¿åº¦ã€‚æ¯”å¦‚ï¼Œè¯¥å€¼è®¾ç½®æˆ3ï¼Œæœ‰ä¸ªè¯æ˜¯&quot;å››å¤§å¤©ç‹&quot;ï¼Œåˆ™å…¶æ‹¼éŸ³é¦–å­—æ¯ä¸º&quot;sdt&quot;ï¼Œå–å‰ä¸‰ä¸ªæ‹¼éŸ³é¦–å­—æ¯ã€‚ä¸€èˆ¬è¿™ä¸ªå­—æ®µå°±ä¸ºé»˜è®¤ã€‚</td></tr><tr><td align="left">keep_full_pinyin</td><td align="left">true</td><td align="left">åˆ˜å¾·å&gt; [liu,de,hua]</td><td></td></tr><tr><td align="left">keep_joined_full_pinyin</td><td align="left">false</td><td align="left">åˆ˜å¾·å&gt; [liudehua]</td><td>è¿™ä¸ªå‚æ•°è¦æ³¨æ„ä¸‹ï¼Œæ˜¯å¦æœ‰å¿…è¦ä¸»åŠ¨è®¾ç½®æˆtrue</td></tr><tr><td align="left">keep_none_chinese</td><td align="left">true</td><td align="left">keep non chinese letter or number in result(ç»“æœä¸­ä¿ç•™éä¸­æ–‡å­—æ¯æˆ–æ•°å­—)</td><td>é»˜è®¤ä¸ºtrueï¼Œä¸è¿‡<strong>ä¸€èˆ¬ä¼šä¸»åŠ¨è®¾ç½®ä¸ºfalse</strong>ï¼Œå› ä¸ºåœ¨ä½¿ç”¨pinyinçš„åœºæ™¯ä¸­éƒ½æ˜¯æƒ³æœç´¢ä¸­æ–‡ï¼Œéä¸­æ–‡å­—ç¬¦å¯ä»¥è¿‡æ‰</td></tr><tr><td align="left">keep_none_chinese_together</td><td align="left">true</td><td align="left">trueï¼šDJéŸ³ä¹å®¶ -&gt; DJ,yin,yue,jiaï¼›falseï¼šDJéŸ³ä¹å®¶ -&gt; D,J,yin,yue,jia</td><td></td></tr><tr><td align="left">keep_none_chinese_in_first_letter</td><td align="left">true</td><td align="left">åˆ˜å¾·åAT2016-&gt;ldhat2016</td><td>åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œ<strong>è¯¥é¡¹æœ€å¥½ä¸è¦é»˜è®¤ï¼Œä¸»åŠ¨è®¾ç½®ä¸ºfalse</strong>ï¼Œå› ä¸ºæœ¬æ¥è¯¥æ’ä»¶å°±æ˜¯é’ˆå¯¹ä¸­æ–‡æ‹¼éŸ³ä½¿ç”¨çš„ï¼Œå¤§éƒ¨åˆ†æŸ¥è¯¢åœºæ™¯ä¸­éƒ½æ˜¯é’ˆå¯¹ä¸­æ–‡æ‹¼éŸ³çš„æœç´¢ï¼Œå¦‚æœå°†non chineseå­—ç¬¦ä¹Ÿæ¶µç›–è¿›æ¥ï¼Œå®¹æ˜“æœé”™ã€‚<br>å¦å¤–ï¼Œå¦‚æœæŸä¸ªå­—æ®µï¼Œæ—¢å¯èƒ½æ˜¯ä¸­æ–‡åˆå¯èƒ½æ˜¯è‹±æ–‡ï¼ŒåŒæ—¶ä½ é»˜è®¤keep_none_chinese_in_first_letter ä¸ºtrueï¼Œåˆ™è‹±æ–‡ä¼šè¢«åˆ†æˆè¿™æ ·ï¼š<br><img src="/img/loading.gif" data-lazy-src="/posts/f2c14b21/v2-55cf8463505245e2e0133987732cf855_720w.webp" title="img"></td></tr><tr><td align="left">keep_none_chinese_in_joined_full_pinyin</td><td align="left">false</td><td align="left">eg: åˆ˜å¾·å2016-&gt;liudehua2016</td><td>æ˜¯å¦åœ¨joined_full_pinyinä¸­ä¿ç•™éä¸­æ–‡å­—ç¬¦ï¼Œ<strong>çœ‹éœ€æ±‚å†³å®šï¼Œå¦‚æœä¸éœ€è¦åˆ™éœ€è¦ä¸»åŠ¨è®¾ç½®ä¸ºfalse</strong></td></tr><tr><td align="left">none_chinese_pinyin_tokenize</td><td align="left">true</td><td align="left">å¦‚æœæ˜¯æ‹¼éŸ³ï¼Œåˆ™å°†éä¸­æ–‡å­—æ¯åˆ†æˆå•ç‹¬çš„æ‹¼éŸ³è¯; eg: liudehuaalibaba13zhuanghan -&gt; liu,de,hua,a,li,ba,ba,13,zhuang,han; <strong>æ³¨:</strong> <code>keep_none_chinese</code> and <code>keep_none_chinese_together</code> ä¸¤é¡¹å¿…é¡»å…ˆå¯ç”¨</td><td>é»˜è®¤ä¸ºtrueï¼Œè¿™ä¸ªæœ€å¥½<strong>ä¸»åŠ¨è®¾ç½®ä¸ºfalse</strong>ã€‚å› ä¸ºéä¸­æ–‡å­—ç¬¦ä¸€èˆ¬æ˜¯è‹±æ–‡å•è¯æˆ–æ•°å­—ï¼Œè¿™äº›å¦‚æœè¦è¢«åˆ†è¯çš„è¯ï¼Œä¼šå˜æˆè¿™æ ·<br><img src="/img/loading.gif" data-lazy-src="/posts/f2c14b21/v2-2c4db6771b2e7d7cc6be4f387f07e3bc_720w.webp" title="img"><br>åˆ†è¯è¿™ä¹ˆç»†ç²’åº¦ä¼šå¯¼è‡´æœç´¢ç»“æœè¿‡äºæ¨¡ç³Šã€‚</td></tr><tr><td align="left">keep_original</td><td align="left">false</td><td align="left">å¯ç”¨æ­¤é€‰é¡¹æ—¶ï¼Œä¹Ÿå°†ä¿ç•™åŸå§‹è¾“å…¥</td><td>é»˜è®¤ä¸ºfalseï¼Œçœ‹å…·ä½“éœ€æ±‚ï¼Œå†å†³å®šæ˜¯å¦éœ€è¦è®¾ç½®ä¸ºtrueæ¥ä¿ç•™åŸå§‹text</td></tr><tr><td align="left">lowercase</td><td align="left">true</td><td align="left">éä¸­æ–‡å­—æ¯è½¬å°å†™</td><td></td></tr><tr><td align="left">trim_whitespace</td><td align="left">true</td><td align="left">å‰”é™¤ç©ºæ ¼</td><td></td></tr><tr><td align="left">remove_duplicated_term</td><td align="left">false</td><td align="left">åˆ é™¤é‡å¤çš„æœ¯è¯­; eg: deçš„ &gt; de</td><td></td></tr><tr><td align="left">ignore_pinyin_offset</td><td align="left">true</td><td align="left">åœ¨6.0ä¹‹åï¼Œåç§»è¢«ä¸¥æ ¼çº¦æŸï¼Œä¸å…è®¸é‡å æ ‡è®°ï¼Œä½¿ç”¨è¯¥å‚æ•°ï¼Œé€šè¿‡å¿½ç•¥åç§»å°†å…è®¸é‡å æ ‡è®°ï¼Œè¯·æ³¨æ„ï¼Œæ‰€æœ‰ä¸ä½ç½®ç›¸å…³çš„æŸ¥è¯¢æˆ–çªå‡ºæ˜¾ç¤ºå°†å˜å¾—ä¸æ­£ç¡®ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨å¤šä¸ªå­—æ®µå¹¶ä¸ºä¸åŒçš„æŸ¥è¯¢ç›®çš„æŒ‡å®šä¸åŒçš„è®¾ç½®ã€‚å¦‚æœéœ€è¦åç§»ï¼Œè¯·å°†å…¶è®¾ç½®ä¸ºfalseã€‚é»˜è®¤å€¼:trueã€‚</td><td></td></tr></tbody></table><h1 id="IKåˆ†è¯å™¨"><a href="#IKåˆ†è¯å™¨" class="headerlink" title="IKåˆ†è¯å™¨"></a>IKåˆ†è¯å™¨</h1><h2 id="1-åœ¨çº¿å®‰è£…ikæ’ä»¶"><a href="#1-åœ¨çº¿å®‰è£…ikæ’ä»¶" class="headerlink" title="1.åœ¨çº¿å®‰è£…ikæ’ä»¶"></a>1.åœ¨çº¿å®‰è£…ikæ’ä»¶</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿›å…¥å®¹å™¨å†…éƒ¨</span></span><br><span class="line">docker exec -it elasticsearch /bin/bash</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœ¨çº¿ä¸‹è½½å¹¶å®‰è£…</span></span><br><span class="line">./bin/elasticsearch-plugin  install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.12.1/elasticsearch-analysis-ik-7.12.1.zip</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é€€å‡º</span></span><br><span class="line">exit</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é‡å¯å®¹å™¨</span></span><br><span class="line">docker restart elasticsearch</span><br></pre></td></tr></table></figure><h2 id="2-ç¦»çº¿å®‰è£…ikæ’ä»¶"><a href="#2-ç¦»çº¿å®‰è£…ikæ’ä»¶" class="headerlink" title="2.ç¦»çº¿å®‰è£…ikæ’ä»¶"></a>2.ç¦»çº¿å®‰è£…ikæ’ä»¶</h2><img src="/img/loading.gif" data-lazy-src="/posts/f2c14b21/image-20210506110249144.png" title="image-20210506110249144"><p>å°†zipä¸‹è½½åˆ°æœ¬åœ°, è§£å‹åˆ°<code>plugins</code>ä¸‹çš„<code>ik</code>æ–‡ä»¶å¤¹ä¸‹</p><h3 id="4ï¼‰é‡å¯å®¹å™¨"><a href="#4ï¼‰é‡å¯å®¹å™¨" class="headerlink" title="4ï¼‰é‡å¯å®¹å™¨"></a>4ï¼‰é‡å¯å®¹å™¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4ã€é‡å¯å®¹å™¨</span></span><br><span class="line">docker restart es</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹esæ—¥å¿—</span></span><br><span class="line">docker logs -f es</span><br></pre></td></tr></table></figure><h3 id="5ï¼‰æµ‹è¯•"><a href="#5ï¼‰æµ‹è¯•" class="headerlink" title="5ï¼‰æµ‹è¯•"></a>5ï¼‰æµ‹è¯•</h3><p>IKåˆ†è¯å™¨åŒ…å«ä¸¤ç§æ¨¡å¼ï¼š</p><ul><li><p><code>ik_smart</code>ï¼šæœ€å°‘åˆ‡åˆ†</p></li><li><p><code>ik_max_word</code>ï¼šæœ€ç»†åˆ‡åˆ†</p></li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">GET /_analyze</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_max_word&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å­¦ä¹ javaå¤ªæ£’äº†&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="3-æ‰©å±•è¯è¯å…¸"><a href="#3-æ‰©å±•è¯è¯å…¸" class="headerlink" title="3 æ‰©å±•è¯è¯å…¸"></a>3 æ‰©å±•è¯è¯å…¸</h2><p>éšç€äº’è”ç½‘çš„å‘å±•ï¼Œâ€œé€ è¯è¿åŠ¨â€ä¹Ÿè¶Šå‘çš„é¢‘ç¹ã€‚å‡ºç°äº†å¾ˆå¤šæ–°çš„è¯è¯­ï¼Œåœ¨åŸæœ‰çš„è¯æ±‡åˆ—è¡¨ä¸­å¹¶ä¸å­˜åœ¨ã€‚æ¯”å¦‚ï¼šâ€œå¥¥åŠ›ç»™â€ï¼Œâ€œä¼ æ™ºæ’­å®¢â€ ç­‰ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬çš„è¯æ±‡ä¹Ÿéœ€è¦ä¸æ–­çš„æ›´æ–°ï¼ŒIKåˆ†è¯å™¨æä¾›äº†æ‰©å±•è¯æ±‡çš„åŠŸèƒ½ã€‚</p><p>1ï¼‰æ‰“å¼€IKåˆ†è¯å™¨configç›®å½•ï¼š</p><img src="/img/loading.gif" data-lazy-src="/posts/f2c14b21/image-20210506112225508.png" title="image-20210506112225508"><p>2ï¼‰åœ¨IKAnalyzer.cfg.xmlé…ç½®æ–‡ä»¶å†…å®¹æ·»åŠ ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">properties</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;http://java.sun.com/dtd/properties.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">comment</span>&gt;</span>IK Analyzer æ‰©å±•é…ç½®<span class="tag">&lt;/<span class="name">comment</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è‡ªå·±çš„æ‰©å±•å­—å…¸ *** æ·»åŠ æ‰©å±•è¯å…¸--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;ext_dict&quot;</span>&gt;</span>ext.dic<span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3ï¼‰æ–°å»ºä¸€ä¸ª ext.dicï¼Œå¯ä»¥å‚è€ƒconfigç›®å½•ä¸‹å¤åˆ¶ä¸€ä¸ªé…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ä¼ æ™ºæ’­å®¢</span></span><br><span class="line"><span class="attr">å¥¥åŠ›ç»™</span></span><br></pre></td></tr></table></figure><p>4ï¼‰é‡å¯elasticsearch</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker restart es</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ æ—¥å¿—</span></span><br><span class="line">docker logs -f elasticsearch</span><br></pre></td></tr></table></figure><img src="/img/loading.gif" data-lazy-src="/posts/f2c14b21/image-20201115230900504.png" title="image-20201115230900504"><p>æ—¥å¿—ä¸­å·²ç»æˆåŠŸåŠ è½½ext.dicé…ç½®æ–‡ä»¶</p><p>5ï¼‰æµ‹è¯•æ•ˆæœï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">GET /_analyze</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_max_word&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä¼ æ™ºæ’­å®¢Javaå°±ä¸šè¶…è¿‡90%,å¥¥åŠ›ç»™ï¼&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„å½“å‰æ–‡ä»¶çš„ç¼–ç å¿…é¡»æ˜¯ UTF-8 æ ¼å¼ï¼Œä¸¥ç¦ä½¿ç”¨Windowsè®°äº‹æœ¬ç¼–è¾‘</p></blockquote><h2 id="4-åœç”¨è¯è¯å…¸"><a href="#4-åœç”¨è¯è¯å…¸" class="headerlink" title="4 åœç”¨è¯è¯å…¸"></a>4 åœç”¨è¯è¯å…¸</h2><p>åœ¨äº’è”ç½‘é¡¹ç›®ä¸­ï¼Œåœ¨ç½‘ç»œé—´ä¼ è¾“çš„é€Ÿåº¦å¾ˆå¿«ï¼Œæ‰€ä»¥å¾ˆå¤šè¯­è¨€æ˜¯ä¸å…è®¸åœ¨ç½‘ç»œä¸Šä¼ é€’çš„ï¼Œå¦‚ï¼šå…³äºå®—æ•™ã€æ”¿æ²»ç­‰æ•æ„Ÿè¯è¯­ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨æœç´¢æ—¶ä¹Ÿåº”è¯¥å¿½ç•¥å½“å‰è¯æ±‡ã€‚</p><p>IKåˆ†è¯å™¨ä¹Ÿæä¾›äº†å¼ºå¤§çš„åœç”¨è¯åŠŸèƒ½ï¼Œè®©æˆ‘ä»¬åœ¨ç´¢å¼•æ—¶å°±ç›´æ¥å¿½ç•¥å½“å‰çš„åœç”¨è¯æ±‡è¡¨ä¸­çš„å†…å®¹ã€‚</p><p>1ï¼‰IKAnalyzer.cfg.xmlé…ç½®æ–‡ä»¶å†…å®¹æ·»åŠ ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">properties</span> <span class="keyword">SYSTEM</span> <span class="string">&quot;http://java.sun.com/dtd/properties.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">comment</span>&gt;</span>IK Analyzer æ‰©å±•é…ç½®<span class="tag">&lt;/<span class="name">comment</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è‡ªå·±çš„æ‰©å±•å­—å…¸--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;ext_dict&quot;</span>&gt;</span>ext.dic<span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">         <span class="comment">&lt;!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è‡ªå·±çš„æ‰©å±•åœæ­¢è¯å­—å…¸  *** æ·»åŠ åœç”¨è¯è¯å…¸--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;ext_stopwords&quot;</span>&gt;</span>stopword.dic<span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3ï¼‰åœ¨ stopword.dic æ·»åŠ åœç”¨è¯</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ä¹ å¤§å¤§</span></span><br></pre></td></tr></table></figure><p>4ï¼‰é‡å¯elasticsearch</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é‡å¯æœåŠ¡</span></span><br><span class="line">docker restart elasticsearch</span><br><span class="line">docker restart kibana</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ æ—¥å¿—</span></span><br><span class="line">docker logs -f elasticsearch</span><br></pre></td></tr></table></figure><p>æ—¥å¿—ä¸­å·²ç»æˆåŠŸåŠ è½½stopword.dicé…ç½®æ–‡ä»¶</p><blockquote><p><strong>æ³¨æ„å½“å‰æ–‡ä»¶çš„ç¼–ç å¿…é¡»æ˜¯ UTF-8 æ ¼å¼ï¼Œä¸¥ç¦ä½¿ç”¨Windowsè®°äº‹æœ¬ç¼–è¾‘</strong></p></blockquote><h1 id="æµ‹è¯•åˆ†è¯å™¨å®‰è£…æ˜¯å¦æˆåŠŸ"><a href="#æµ‹è¯•åˆ†è¯å™¨å®‰è£…æ˜¯å¦æˆåŠŸ" class="headerlink" title="æµ‹è¯•åˆ†è¯å™¨å®‰è£…æ˜¯å¦æˆåŠŸ"></a>æµ‹è¯•åˆ†è¯å™¨å®‰è£…æ˜¯å¦æˆåŠŸ</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GET /_cat/plugins?pretty</span><br><span class="line"></span><br><span class="line">VM_113_96_centos analysis-ik     7.9.3</span><br><span class="line">VM_113_96_centos analysis-pinyin 7.9.3</span><br></pre></td></tr></table></figure><h1 id="ngramåˆ†è¯å™¨"><a href="#ngramåˆ†è¯å™¨" class="headerlink" title="ngramåˆ†è¯å™¨"></a>ngramåˆ†è¯å™¨</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><h3 id="ä»€ä¹ˆæ˜¯ngram-åˆ†è¯å™¨ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ngram-åˆ†è¯å™¨ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ngram åˆ†è¯å™¨ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ngram åˆ†è¯å™¨ï¼Ÿ</h3><blockquote><p>ngramåˆ†è¯å™¨æ˜¯ESè‡ªå¸¦çš„å…·æœ‰å‰ç¼€åŒ¹é…æœç´¢åŠŸèƒ½çš„ä¸€ä¸ªæ–‡æœ¬åˆ†è¯å™¨ã€‚å®ƒèƒ½æ ¹æ®æ–‡æœ¬çš„æ­¥é•¿é€æ­¥å¯¹å†™å…¥çš„æ–‡æœ¬å†…å®¹è¿›è¡Œçº¦æŸåˆ‡å‰²</p></blockquote><h3 id="ngramå’Œindex-timeæœç´¢æ¨èåŸç†"><a href="#ngramå’Œindex-timeæœç´¢æ¨èåŸç†" class="headerlink" title="ngramå’Œindex-timeæœç´¢æ¨èåŸç†"></a>ngramå’Œindex-timeæœç´¢æ¨èåŸç†</h3><blockquote><p>æœç´¢çš„æ—¶å€™ï¼Œä¸ç”¨å†æ ¹æ®ä¸€ä¸ªå‰ç¼€ï¼Œç„¶åæ‰«ææ•´ä¸ªå€’æ’ç´¢å¼•äº†ï¼Œè€Œæ˜¯ç®€å•çš„æ‹¿å‰ç¼€å»å€’æ’ç´¢å¼•ä¸­åŒ¹é…å³å¯ï¼Œå¦‚æœåŒ¹é…ä¸Šäº†ï¼Œé‚£ä¹ˆå°±å¥½äº†ï¼Œå°±å’Œmatch queryå…¨æ–‡æ£€ç´¢ä¸€æ ·ã€‚</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">eg:</span>  <span class="string">quick</span> <span class="string">ä¸ºåˆ—ï¼š</span></span><br><span class="line"><span class="string">Length</span> <span class="number">1</span> <span class="string">(unigram):</span> [ <span class="string">q</span>, <span class="string">u</span>, <span class="string">i</span>, <span class="string">c</span>, <span class="string">k</span> ]</span><br><span class="line"><span class="string">Length</span> <span class="number">2</span> <span class="string">(bigram):</span> [ <span class="string">qu</span>, <span class="string">ui</span>, <span class="string">ic</span>, <span class="string">ck</span> ]</span><br><span class="line"><span class="string">Length</span> <span class="number">3</span> <span class="string">(trigram):</span> [ <span class="string">qui</span>, <span class="string">uic</span>, <span class="string">ick</span> ]</span><br><span class="line"><span class="string">Length</span> <span class="number">4</span> <span class="string">(four-gram):</span> [ <span class="string">quic</span>, <span class="string">uick</span> ]</span><br><span class="line"><span class="string">Length</span> <span class="number">5</span> <span class="string">(five-gram):</span> [ <span class="string">quick</span> ]</span><br></pre></td></tr></table></figure><h3 id="ngramåˆ†è¯å®è·µ"><a href="#ngramåˆ†è¯å®è·µ" class="headerlink" title="ngramåˆ†è¯å®è·µ"></a>ngramåˆ†è¯å®è·µ</h3><p>1ï¼Œå®šä¹‰ä¸€ä¸ªç´¢å¼•ï¼Œå¹¶æŒ‡å®šåˆ†è¯å™¨ngram;</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">PUT</span> db_content_testserver2</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;settings&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;analysis&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;analyzer&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;ngram_analyzer&quot;</span>: &#123;</span><br><span class="line">              <span class="string">&quot;tokenizer&quot;</span>: <span class="string">&quot;ngram_tokenizer&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="string">&quot;tokenizer&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;ngram_tokenizer&quot;</span>: &#123;</span><br><span class="line">              <span class="string">&quot;type&quot;</span>: <span class="string">&quot;ngram&quot;</span>,</span><br><span class="line">              <span class="string">&quot;min_gram&quot;</span>: <span class="number">1</span>,</span><br><span class="line">              <span class="string">&quot;max_gram&quot;</span>: <span class="number">5</span>,</span><br><span class="line">              <span class="string">&quot;token_chars&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;letter&quot;</span>,</span><br><span class="line">                <span class="string">&quot;digit&quot;</span></span><br><span class="line">              ]</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2, åˆ›å»ºtype,å¹¶æŒ‡å®šcontent å­—æ®µåˆ†è¯å™¨ä¸º&quot;ngram_analyzer&quot;</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">PUT</span> db_content_testserver2/_mapping/t_article</span><br><span class="line">&#123;</span><br><span class="line">     <span class="string">&quot;properties&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;content&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>,</span><br><span class="line">          <span class="string">&quot;analyzer&quot;</span>: <span class="string">&quot;ngram_analyzer&quot;</span></span><br><span class="line">         &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3, å†™å…¥æµ‹è¯•æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">POST</span> db_content_testserver2/t_article</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;content&quot;</span>:<span class="string">&quot;æ®è®°è€…äº†,éƒ‘å·æ–‡åŒ–é¦†ã€æ²³å—çœå¤§æ²³æ–‡åŒ–è‰ºæœ¯ä¸­å¿ƒè‡ª2016å¹´ä»¥æ¥,é€šè¿‡ç»„ç»‡ç¬¬åä¸€å±Šã€ç¬¬åäºŒå±Šä¸­å›½éƒ‘å·å›½é™…å°‘æ—æ­¦æœ¯èŠ‚ä¹¦ç”»å±•,é€šè¿‡ä¹¦ç”»å±•æ–‡åŒ–è‰ºæœ¯æ­å°,æ˜¯è®¤çœŸè´¯å½»ä¹ ä¸­å¤®æ–‡è‰ºå·¥ä½œåº§è°ˆä¼šé‡è¦è®²è¯ç²¾ç¥,å“åº”æ–‡åŒ–éƒ¨å¼€å±•æ·±å…¥ç”Ÿæ´»ã€æ‰æ ¹äººæ°‘ä¸»é¢˜å®è·µæ´»åŠ¨ã€‚ä»¥ä½œå“çš„çœŸå–„ç¾é™¶å†¶äººç±»å´‡é«˜ä¹‹è¥Ÿæ€€å“æ ¼,æ ‘ç«‹ä¸­åæ°‘æ—çš„æ–‡åŒ–è‡ªä¿¡,ç”¨å†™æ„ç²¾ç¥æ¨åŠ¨ç¤¾ä¼šæ–‡å­¦è‰ºæœ¯çš„ç¹è£å‘å±•ã€‚&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹ä¸Šé¢çš„åˆ†è¯ï¼Œæ˜¯å¦èƒ½æ­£å¸¸åˆ†è¯;</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">POST</span> db_content_testserver2/_analyze</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;analyzer&quot;</span>: <span class="string">&quot;ngram_analyzer&quot;</span>,</span><br><span class="line">  <span class="string">&quot;text&quot;</span>: <span class="string">&quot;æ®è®°è€…äº†,éƒ‘å·æ–‡åŒ–é¦†ã€æ²³å—çœå¤§æ²³æ–‡åŒ–è‰ºæœ¯ä¸­å¿ƒè‡ª2016å¹´ä»¥æ¥,é€šè¿‡ç»„ç»‡ç¬¬åä¸€å±Šã€ç¬¬åäºŒå±Šä¸­å›½éƒ‘å·å›½é™…å°‘æ—æ­¦æœ¯èŠ‚ä¹¦ç”»å±•,é€šè¿‡ä¹¦ç”»å±•æ–‡åŒ–è‰ºæœ¯æ­å°,æ˜¯è®¤çœŸè´¯å½»ä¹ ä¸­å¤®æ–‡è‰ºå·¥ä½œåº§è°ˆä¼šé‡è¦è®²è¯ç²¾ç¥,å“åº”æ–‡åŒ–éƒ¨å¼€å±•æ·±å…¥ç”Ÿæ´»ã€æ‰æ ¹äººæ°‘ä¸»é¢˜å®è·µæ´»åŠ¨ã€‚ä»¥ä½œå“çš„çœŸå–„ç¾é™¶å†¶äººç±»å´‡é«˜ä¹‹è¥Ÿæ€€å“æ ¼,æ ‘ç«‹ä¸­åæ°‘æ—çš„æ–‡åŒ–è‡ªä¿¡,ç”¨å†™æ„ç²¾ç¥æ¨åŠ¨ç¤¾ä¼šæ–‡å­¦è‰ºæœ¯çš„ç¹è£å‘å±•ã€‚&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="wildcardçš„æ›¿ä»£æ–¹æ¡ˆ-ngram-term-match-phrase"><a href="#wildcardçš„æ›¿ä»£æ–¹æ¡ˆ-ngram-term-match-phrase" class="headerlink" title="wildcardçš„æ›¿ä»£æ–¹æ¡ˆ: ngram+term&#x2F;match_phrase"></a>wildcardçš„æ›¿ä»£æ–¹æ¡ˆ: ngram+term&#x2F;match_phrase</h2><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><blockquote><p>1.ESæ¨¡ç³ŠæŸ¥è¯¢wildcardæŸ¥è¯¢æè€—æœºå™¨CPUèµ„æºï¼ŒæŸ¥è¯¢è€—æ—¶é«˜ï¼Œå½“å¹¶å‘é‡é«˜æ—¶å½±å“ESå…¶å®ƒè¿›ç¨‹ã€‚<br>2.ç”¨æˆ·å®é™…çš„æ¨¡ç³ŠæŸ¥è¯¢éœ€æ±‚å¤§å¤šæ˜¯å·¦å³æ¨¡ç³ŠåŒ¹é…ã€‚</p></blockquote><h4 id="match-phraseèƒ½å¤Ÿå®ç°è¯ç»„æŸ¥è¯¢"><a href="#match-phraseèƒ½å¤Ÿå®ç°è¯ç»„æŸ¥è¯¢" class="headerlink" title="match_phraseèƒ½å¤Ÿå®ç°è¯ç»„æŸ¥è¯¢"></a>match_phraseèƒ½å¤Ÿå®ç°è¯ç»„æŸ¥è¯¢</h4><blockquote><p>æ¯”å¦‚brown foxä¼šè¿”å›åŒ¹é…â€¦brown foxâ€¦çš„ç»“æœï¼Œæ­¤ç»“æœä¸wildcardæŸ¥è¯¢ä¼ å…¥brown foxçš„æŸ¥è¯¢ç»“æœä¸€è‡´ã€‚ç›¸å½“äºæˆ‘ä»¬é€šè¿‡match_phraseå®ç°wildcardæŸ¥è¯¢æ•ˆæœï¼Œä½†æ­¤æ—¶åªæ»¡è¶³ä¸€äº›ç‰¹è®¸çš„æ¨¡ç³ŠæŸ¥è¯¢éœ€æ±‚ã€‚<br>é‚£å¦‚ä½•å¯¹match_phraseçš„åŠŸèƒ½è¿›è¡Œå¢å¼ºï¼Œè®©å…¶èƒ½å¤Ÿæ»¡è¶³æ‰€æœ‰æ¡ä»¶ï¼Ÿ<br>ä»ä¸Šé¢çš„æŸ¥è¯¢ç¤ºä¾‹å¯ä»¥çœ‹å‡ºï¼Œbrown foxä¼šè¿”å›åŒ¹é…â€¦brown foxâ€¦çš„ç»“æœï¼Œå…¶æ ¹æœ¬åŸå› åœ¨äºç´¢å¼•æ—¶ESå°†â€¦brown foxâ€¦åˆ†è¯æˆäº†brownï¼Œfoxç­‰å•è¯ã€‚æ‰€ä»¥åªè¦æˆ‘ä»¬èƒ½å¤Ÿæ§åˆ¶ESåˆ†è¯æ•ˆæœï¼Œå°†ä¼šæœ€ç»ˆæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚è€ŒESæä¾›äº†ä¸°å¯Œçš„åˆ†è¯åŠŸèƒ½ã€‚</p></blockquote><h4 id="ngramåˆ†è¯èƒ½å¤Ÿå®ç°æŒ‰æŒ‡å®šé•¿åº¦å¯¹æ–‡æœ¬è¿›è¡Œåˆ†è¯ã€‚"><a href="#ngramåˆ†è¯èƒ½å¤Ÿå®ç°æŒ‰æŒ‡å®šé•¿åº¦å¯¹æ–‡æœ¬è¿›è¡Œåˆ†è¯ã€‚" class="headerlink" title="ngramåˆ†è¯èƒ½å¤Ÿå®ç°æŒ‰æŒ‡å®šé•¿åº¦å¯¹æ–‡æœ¬è¿›è¡Œåˆ†è¯ã€‚"></a>ngramåˆ†è¯èƒ½å¤Ÿå®ç°æŒ‰æŒ‡å®šé•¿åº¦å¯¹æ–‡æœ¬è¿›è¡Œåˆ†è¯ã€‚</h4><blockquote><p>ngramå¯ä»¥æŒ‡å®šmin_gramï¼Œmax_gramå‚æ•°å®ç°ä¸åŒçš„åˆ†è¯æ•ˆæœã€‚<br>ä¾‹å¦‚ï¼šmin_gramï¼Œmax_gramé…ç½®ä¸º5æ—¶ï¼Œquick.brown.foxåˆ†è¯åä¼šäº§ç”Ÿquickï¼Œuick.ï¼Œick.bï¼Œck.brï¼Œk.broï¼Œ.browï¼Œbrownï¼Œrown.ï¼Œown.fï¼Œwn.foï¼Œn.foxã€‚<br>è¿™æ—¶match_phraseä¼šè¾¾åˆ°ä»€ä¹ˆæ•ˆæœäº†ï¼Ÿ<br>a.ç”¨æˆ·è¾“å…¥quickï¼Œbrownï¼Œk.broç­‰éƒ½èƒ½å¤Ÿè¿”å›quick.brown.foxã€‚<br>b.ç”¨æˆ·è¾“å…¥brown.foxï¼Œbrown.foxä¼šè¢«åˆ†è¯æˆbrownï¼Œrown.ï¼Œown.fç­‰ï¼Œæ­¤æ—¶åŒæ ·ä¼šè¿”å›quick.brown.foxã€‚<br>c.ç”¨æˆ·è¾“å…¥fox(é•¿åº¦å°äºngramåˆ†è¯é…ç½®çš„åˆ†è¯é•¿åº¦æ—¶ï¼‰ï¼Œä¸ä¼šè¿”å›ä»»ä½•ç»“æœã€‚</p></blockquote><h4 id="å¦‚ä½•æ­£ç¡®è¿”å›æŸ¥è¯¢æ¡ä»¶é•¿åº¦å°äº5æ—¶çš„ç»“æœ"><a href="#å¦‚ä½•æ­£ç¡®è¿”å›æŸ¥è¯¢æ¡ä»¶é•¿åº¦å°äº5æ—¶çš„ç»“æœ" class="headerlink" title="å¦‚ä½•æ­£ç¡®è¿”å›æŸ¥è¯¢æ¡ä»¶é•¿åº¦å°äº5æ—¶çš„ç»“æœ"></a>å¦‚ä½•æ­£ç¡®è¿”å›æŸ¥è¯¢æ¡ä»¶é•¿åº¦å°äº5æ—¶çš„ç»“æœ</h4><blockquote><p>åˆ©ç”¨ngramåˆ†è¯ + termæŸ¥è¯¢å¯ä»¥å®ç°æ‰€éœ€æŸ¥è¯¢æ•ˆæœã€‚<br>ngramåˆ†è¯é…ç½®ï¼šmin_gramé…ç½®ä¸º1ï¼Œmax_gramé…ç½®ä¸º4ã€‚ä¾‹å¦‚quickå°†ä¼šè¢«åˆ†è¯ä¸ºqï¼Œuï¼Œiï¼Œâ€¦ quicï¼Œuickã€‚<br>termæŸ¥è¯¢ä¼šå¯¹ç”¨æˆ·è¾“å…¥çš„æ¡ä»¶è¿›è¡Œç²¾ç¡®åŒ¹é…ï¼Œæ¯”å¦‚è¾“å…¥uicï¼Œä¼šè¿”å›quickã€‚</p></blockquote><h3 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h3><blockquote><p>æŸ¥è¯¢æ¡ä»¶é•¿åº¦å°äº5æ—¶ï¼šä½¿ç”¨ngramåˆ†è¯ + termæŸ¥è¯¢<br>æŸ¥è¯¢æ¡ä»¶é•¿åº¦å¤§äºç­‰äº5æ—¶ï¼šä½¿ç”¨ngramåˆ†è¯ + match_phraseæŸ¥è¯¢</p></blockquote><h3 id="å®æ–½"><a href="#å®æ–½" class="headerlink" title="å®æ–½"></a>å®æ–½</h3><h4 id="åˆ›å»ºç´¢å¼•"><a href="#åˆ›å»ºç´¢å¼•" class="headerlink" title="åˆ›å»ºç´¢å¼•"></a>åˆ›å»ºç´¢å¼•</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">PUT index_text_1</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    # è¡¨ç¤ºæœ€å¤§å…è®¸çš„åˆ†è¯é—´éš”<span class="punctuation">:</span>`fix<span class="punctuation">:</span> The difference between max_gram and min_gram in NGram Tokenizer must be less than or equal to<span class="punctuation">:</span> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">]</span> but was <span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span>`</span><br><span class="line">	<span class="attr">&quot;index.max_ngram_diff&quot;</span><span class="punctuation">:</span><span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;analysis&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;ngram_analyzer_short&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;filter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lowercase&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;tokenizer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ngram_tokenizer_short&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;ngram_analyzer_long&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;filter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lowercase&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;tokenizer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ngram_tokenizer_long&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tokenizer&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;ngram_tokenizer_short&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ngram&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;min_gram&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;max_gram&quot;</span><span class="punctuation">:</span> <span class="string">&quot;4&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;ngram_tokenizer_long&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ngram&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;min_gram&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;max_gram&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;mappings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;char&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">              <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span><span class="punctuation">,</span></span><br><span class="line">              <span class="attr">&quot;fields&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                  <span class="attr">&quot;long_char&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span><span class="punctuation">,</span></span><br><span class="line">                      <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ngram_analyzer_long&quot;</span></span><br><span class="line">                  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                  <span class="attr">&quot;short_char&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span><span class="punctuation">,</span></span><br><span class="line">                      <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ngram_analyzer_short&quot;</span></span><br><span class="line">                  <span class="punctuation">&#125;</span></span><br><span class="line">              <span class="punctuation">&#125;</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="æ–°å¢æ•°æ®"><a href="#æ–°å¢æ•°æ®" class="headerlink" title="æ–°å¢æ•°æ®"></a>æ–°å¢æ•°æ®</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">POST /index_text_1/_doc/_bulk</span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span>  </span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;char&quot;</span><span class="punctuation">:</span><span class="string">&quot;nHRSPkkXLGm6UsmRbRBFQYRCRXpp6CXrnBiqSR&quot;</span><span class="punctuation">&#125;</span> </span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span><span class="number">2</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;char&quot;</span><span class="punctuation">:</span><span class="string">&quot;quick.brown.fox&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span><span class="number">3</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;char&quot;</span><span class="punctuation">:</span><span class="string">&quot;elasticsearch&quot;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="æŸ¥è¯¢è¯­å¥"><a href="#æŸ¥è¯¢è¯­å¥" class="headerlink" title="æŸ¥è¯¢è¯­å¥"></a>æŸ¥è¯¢è¯­å¥</h4><p>æŸ¥è¯¢æ¡ä»¶é•¿åº¦å¤§äºç­‰äº5æ—¶</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GET index_text_1/_search</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;match_phrase&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;char.long_char&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="string">&quot;UsmRbRBFQY&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢æ¡ä»¶é•¿åº¦å°äº5æ—¶</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">GET index_text_1/_search</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;term&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;char.short_char&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;fox&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="ngramä½¿ç”¨æ€è€ƒ"><a href="#ngramä½¿ç”¨æ€è€ƒ" class="headerlink" title="ngramä½¿ç”¨æ€è€ƒ"></a>ngramä½¿ç”¨æ€è€ƒ</h3><blockquote><p>æŸ¥è¯¢æ¡ä»¶é•¿åº¦è¯¥è®¾ç½®æˆå¤šå°‘ï¼Ÿ<br>å€¼å¤ªå¤§ï¼Œå ç”¨çš„å­˜å‚¨èµ„æºå°±å¤šï¼ˆä¸»è¦æ˜¯short_charå­—æ®µï¼‰ï¼›å€¼å¤ªå°ï¼Œlong_charå­—æ®µåˆ†è¯è¢«åˆ†çš„å¤ªç»†ï¼Œmatch_phraseæŸ¥è¯¢è€—æ—¶å°±ä¼šå¢åŠ ã€‚</p></blockquote><h2 id="edge-gramåˆ†è¯å™¨"><a href="#edge-gramåˆ†è¯å™¨" class="headerlink" title="edge_gramåˆ†è¯å™¨"></a>edge_gramåˆ†è¯å™¨</h2><blockquote><p>è¿™æ˜¯ä¸€ç§å€’é‡‘å­—å¡”çš„æ ¼å¼ï¼Œé¢„å…ˆæŠŠæ–‡æœ¬æŒ‰è¿™ç§æ–¹å¼ç»™ç´¢å¼•èµ·æ¥ï¼Œç„¶åæŒ‰termæŸ¥è¯¢å³å¯ï¼ˆå¦‚æœæŒ‰IKåˆ†è¯ï¼Œå¯èƒ½å°±åˆ†ä¸å‡º â€œä¸­åäººæ°‘å…±â€ è¿™æ ·ä¸€ä¸ªè¯æ¥ï¼‰ã€‚</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ä¸­åäººæ°‘å…±å’Œå›½</span><br><span class="line">ä¸­åäººæ°‘å…±å’Œ</span><br><span class="line">ä¸­åäººæ°‘å…±</span><br><span class="line">ä¸­åäººæ°‘</span><br><span class="line">ä¸­åäºº</span><br><span class="line">ä¸­å</span><br><span class="line">ä¸­</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">PUT xiaowu_test</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;analysis&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;filter&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;edge_ngram_filter&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;edge_ngram&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;min_gram&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;max_gram&quot;</span><span class="punctuation">:</span><span class="number">50</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;ngramIndexAnalyzer&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">                        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;custom&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;tokenizer&quot;</span><span class="punctuation">:</span><span class="string">&quot;keyword&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;filter&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span></span><br><span class="line">                            <span class="string">&quot;edge_ngram_filter&quot;</span><span class="punctuation">,</span></span><br><span class="line">                            <span class="string">&quot;lowercase&quot;</span></span><br><span class="line">                        <span class="punctuation">]</span></span><br><span class="line">                    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;ngramSearchAnalyzer&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">                        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;custom&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;tokenizer&quot;</span><span class="punctuation">:</span><span class="string">&quot;keyword&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;filter&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span></span><br><span class="line">                            <span class="string">&quot;lowercase&quot;</span></span><br><span class="line">                        <span class="punctuation">]</span></span><br><span class="line">                    <span class="punctuation">&#125;</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h1 id="å…¶ä»–åˆ†è¯å™¨"><a href="#å…¶ä»–åˆ†è¯å™¨" class="headerlink" title="å…¶ä»–åˆ†è¯å™¨"></a>å…¶ä»–åˆ†è¯å™¨</h1><p>[1] å¦‚ä½•åœ¨elasticsearchä¸­ä½¿ç”¨åˆ†è¯å™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/configure-text-analysis.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/configure-text-analysis.html</a><br>[2] å¸¸ç”¨çš„ä¸­æ–‡åˆ†è¯å™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/medcl/elasticsearch-analysis-ik">https://github.com/medcl/elasticsearch-analysis-ik</a><br>[3] æ‹¼éŸ³åˆ†è¯å™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/medcl/elasticsearch-analysis-pinyin">https://github.com/medcl/elasticsearch-analysis-pinyin</a><br>[4] elasticsearchå®˜æ–¹æ–‡æ¡£ä¸­çš„ä¸€æ®µä»‹ç»: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analyzer-anatomy.html#analyzer-anatomy">https://www.elastic.co/guide/en/elasticsearch/reference/current/analyzer-anatomy.html#analyzer-anatomy</a><br>[5] åˆ†æå™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.html</a><br>[6] è‡ªå®šä¹‰: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-custom-analyzer.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-custom-analyzer.html</a><br>[7] å­—ç¬¦è¿‡æ»¤å™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/analysis/anatomy.asciidoc">https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/analysis/anatomy.asciidoc</a><br>[8] å­—ç¬¦è¿‡æ»¤å™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-charfilters.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-charfilters.html</a><br>[9] åˆ†è¯å™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/analysis/anatomy.asciidoc">https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/analysis/anatomy.asciidoc</a><br>[10] whitespace: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-whitespace-tokenizer.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-whitespace-tokenizer.html</a><br>[11] åˆ†è¯å™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenizers.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenizers.html</a><br>[12] tokenè¿‡æ»¤å™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/analysis/anatomy.asciidoc">https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/analysis/anatomy.asciidoc</a><br>[13] lowercase: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-lowercase-tokenfilter.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-lowercase-tokenfilter.html</a><br>[14] stop: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-stop-tokenfilter.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-stop-tokenfilter.html</a><br>[15] synonym: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-synonym-tokenfilter.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-synonym-tokenfilter.html</a><br>[16] è¯å¹²æå–token filters: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/stemming.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/stemming.html</a><br>[17] token graphs: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/token-graphs.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/token-graphs.html</a><br>[18] tokenè¿‡æ»¤å™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenfilters.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenfilters.html</a><br>[19] å†…ç½®åˆ†æå™¨ç¤ºä¾‹: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/configuring-analyzers.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/configuring-analyzers.html</a><br>[20] standardåˆ†æå™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-standard-analyzer.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-standard-analyzer.html</a><br>[21] character filters: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-charfilters.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-charfilters.html</a><br>[22] tokenizer: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenizers.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenizers.html</a><br>[23] token filters: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenfilters.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenfilters.html</a><br>[24] é…ç½®: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/analysis/analyzers/custom-analyzer.asciidoc">https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/analysis/analyzers/custom-analyzer.asciidoc</a><br>[25] å†…ç½®åˆ†æå™¨ç±»å‹: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-analyzers.html</a><br>[26] tokenizer: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenizers.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenizers.html</a><br>[27] character filters: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-charfilters.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-charfilters.html</a><br>[28] token filters: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenfilters.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenfilters.html</a><br>[29] position_increment_gap: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/position-increment-gap.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/position-increment-gap.html</a><br>[30] ç¤ºä¾‹é…ç½®: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/analysis/analyzers/custom-analyzer.asciidoc">https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/analysis/analyzers/custom-analyzer.asciidoc</a><br>[31] HTML æ ‡è®°å­—ç¬¦è¿‡æ»¤å™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-htmlstrip-charfilter.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-htmlstrip-charfilter.html</a><br>[32] æ ‡å‡†åˆ†è¯å™¨: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-standard-tokenizer.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-standard-tokenizer.html</a><br>[33] Lowercase Token Filter: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-lowercase-tokenfilter.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-lowercase-tokenfilter.html</a><br>[34] ASCII-Folding Token Filter: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-asciifolding-tokenfilter.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-asciifolding-tokenfilter.html</a><br>[35] Mapping Character Filter: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-mapping-charfilter.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-mapping-charfilter.html</a><br>[36] Pattern Tokenizer: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-pattern-tokenizer.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-pattern-tokenizer.html</a><br>[37] Lowercase Token Filter: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-lowercase-tokenfilter.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-lowercase-tokenfilter.html</a><br>[38] Stop Token Filter: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-stop-tokenfilter.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-stop-tokenfilter.html</a></p><p>[39] ngram Tokenizer: <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-ngram-tokenizer.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-ngram-tokenizer.html</a></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…:</span> <span class="post-copyright-info"><a href="https://xiaowu95.wang">å°äº”</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥:</span> <span class="post-copyright-info"><a href="https://xiaowu95.wang/posts/f2c14b21/">https://xiaowu95.wang/posts/f2c14b21/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜:</span> <span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="https://xiaowu95.wang" target="_blank">å°äº”çš„ä¸ªäººæ‚è´§é“º</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/elasticsearch/">elasticsearch</a><a class="post-meta__tags" href="/tags/elastic-stack/">elastic stack</a></div><div class="post-share"><div class="social-share" data-image="/img/nba-logo27.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>æ„Ÿè°¢æ”¯æŒ</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wxpay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/loading.gif" data-lazy-src="/img/wxpay.jpg" alt="å¾®ä¿¡"></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/loading.gif" data-lazy-src="/img/alipay.jpg" alt="æ”¯ä»˜å®"></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/4bb6b4d2/" title="elasticsearchçš„dslä½¿ç”¨"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/nba-logo23.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">elasticsearchçš„dslä½¿ç”¨</div></div><div class="info-2"><div class="info-item-1">1.DSLæŸ¥è¯¢æ–‡æ¡£elasticsearchçš„æŸ¥è¯¢ä¾ç„¶æ˜¯åŸºäºJSONé£æ ¼çš„DSLæ¥å®ç°çš„ã€‚ 1.1.DSLæŸ¥è¯¢åˆ†ç±»Elasticsearchæä¾›äº†åŸºäºJSONçš„DSLï¼ˆDomain Specific Languageï¼‰æ¥å®šä¹‰æŸ¥è¯¢ã€‚å¸¸è§çš„æŸ¥è¯¢ç±»å‹åŒ…æ‹¬ï¼š æŸ¥è¯¢æ‰€æœ‰ï¼šæŸ¥è¯¢å‡ºæ‰€æœ‰æ•°æ®ï¼Œä¸€èˆ¬æµ‹è¯•ç”¨ã€‚ä¾‹å¦‚ï¼šmatch_all å…¨æ–‡æ£€ç´¢ï¼ˆfull textï¼‰æŸ¥è¯¢ï¼šåˆ©ç”¨åˆ†è¯å™¨å¯¹ç”¨æˆ·è¾“å…¥å†…å®¹åˆ†è¯ï¼Œç„¶åå»å€’æ’ç´¢å¼•åº“ä¸­åŒ¹é…ã€‚ä¾‹å¦‚ï¼š match_query multi_match_query ç²¾ç¡®æŸ¥è¯¢ï¼šæ ¹æ®ç²¾ç¡®è¯æ¡å€¼æŸ¥æ‰¾æ•°æ®ï¼Œä¸€èˆ¬æ˜¯æŸ¥æ‰¾keywordã€æ•°å€¼ã€æ—¥æœŸã€booleanç­‰ç±»å‹å­—æ®µã€‚ä¾‹å¦‚ï¼š ids range term åœ°ç†ï¼ˆgeoï¼‰æŸ¥è¯¢ï¼šæ ¹æ®ç»çº¬åº¦æŸ¥è¯¢ã€‚ä¾‹å¦‚ï¼š geo_distance geo_bounding_box å¤åˆï¼ˆcompoundï¼‰æŸ¥è¯¢ï¼šå¤åˆæŸ¥è¯¢å¯ä»¥å°†ä¸Šè¿°å„ç§æŸ¥è¯¢æ¡ä»¶ç»„åˆèµ·æ¥ï¼Œåˆå¹¶æŸ¥è¯¢æ¡ä»¶ã€‚ä¾‹å¦‚ï¼š bool function_score æŸ¥è¯¢çš„è¯­æ³•åŸºæœ¬ä¸€è‡´ï¼š 12345678GET /indexName/_search&#123; &quot;quer...</div></div></div></a><a class="pagination-related" href="/posts/3f9f4113/" title="esè‡ªå®šä¹‰åˆ†æå™¨ä»¥åŠè‡ªåŠ¨è¡¥å…¨"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/nba-logo1.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">esè‡ªå®šä¹‰åˆ†æå™¨ä»¥åŠè‡ªåŠ¨è¡¥å…¨</div></div><div class="info-2"><div class="info-item-1">è‡ªåŠ¨è¡¥å…¨å½“ç”¨æˆ·åœ¨æœç´¢æ¡†è¾“å…¥å­—ç¬¦æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥æç¤ºå‡ºä¸è¯¥å­—ç¬¦æœ‰å…³çš„æœç´¢é¡¹ï¼Œå¦‚å›¾ï¼š è¿™ç§æ ¹æ®ç”¨æˆ·è¾“å…¥çš„å­—æ¯ï¼Œæç¤ºå®Œæ•´è¯æ¡çš„åŠŸèƒ½ï¼Œå°±æ˜¯è‡ªåŠ¨è¡¥å…¨äº†ã€‚ å› ä¸ºéœ€è¦æ ¹æ®æ‹¼éŸ³å­—æ¯æ¥æ¨æ–­ï¼Œå› æ­¤è¦ç”¨åˆ°æ‹¼éŸ³åˆ†è¯åŠŸèƒ½ã€‚ æµ‹è¯•ç”¨æ³•å¦‚ä¸‹ï¼š 12345POST /_analyze&#123; &quot;text&quot;: &quot;å¦‚å®¶é…’åº—è¿˜ä¸é”™&quot;, &quot;analyzer&quot;: &quot;pinyin&quot;&#125; ç»“æœï¼š 0.è‡ªå®šä¹‰åˆ†è¯å™¨é»˜è®¤çš„æ‹¼éŸ³åˆ†è¯å™¨ä¼šå°†æ¯ä¸ªæ±‰å­—å•ç‹¬åˆ†ä¸ºæ‹¼éŸ³ï¼Œè€Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯æ¯ä¸ªè¯æ¡å½¢æˆä¸€ç»„æ‹¼éŸ³ï¼Œéœ€è¦å¯¹æ‹¼éŸ³åˆ†è¯å™¨åšä¸ªæ€§åŒ–å®šåˆ¶ï¼Œå½¢æˆè‡ªå®šä¹‰åˆ†è¯å™¨ã€‚ elasticsearchä¸­åˆ†è¯å™¨ï¼ˆanalyzerï¼‰çš„ç»„æˆåŒ…å«ä¸‰éƒ¨åˆ†ï¼š character filtersï¼šåœ¨tokenizerä¹‹å‰å¯¹æ–‡æœ¬è¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚åˆ é™¤å­—ç¬¦ã€æ›¿æ¢å­—ç¬¦ tokenizerï¼šå°†æ–‡æœ¬æŒ‰ç…§ä¸€å®šçš„è§„åˆ™åˆ‡å‰²æˆè¯æ¡ï¼ˆtermï¼‰ã€‚ä¾‹å¦‚keywordï¼Œå°±æ˜¯ä¸åˆ†è¯ï¼›è¿˜æœ‰ik_smart [tokenizer] filterï¼šå°†tokenizerè¾“å‡ºçš„è¯æ¡åšè¿›ä¸€æ­¥å¤„ç†ã€‚ä¾‹å¦‚å¤§å°...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/d88b52f3/" title="Too many dynamic script compilations within, max[75&#x2F;5m];"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/nba-logo8.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2023-06-16</div><div class="info-item-2">Too many dynamic script compilations within, max[75&#x2F;5m];</div></div><div class="info-2"><div class="info-item-1">ResponseError: search_phase_execution_exception: [circuit_breaking_exception] Reason: [script] Too many dynamic script compilations within, max: [75/5m]; please use indexed, or scripts with parameters instead; this limit can be changed by the [script.context.number_sort.max_compilations_rate] setting</div></div></div></a><a class="pagination-related" href="/posts/9c544337/" title="Elasticsearchï¼šSnapshotå¤‡ä»½ä¸æ¢å¤"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/nba-logo18.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2023-10-30</div><div class="info-item-2">Elasticsearchï¼šSnapshotå¤‡ä»½ä¸æ¢å¤</div></div><div class="info-2"><div class="info-item-1">SnapshotElasticsearchæ–‡æ¡£é‡Œå¯¹äºsnapshotæœ‰å¦‚ä¸‹æè¿°ï¼š 1The index snapshot process is incremental. In the process of making the index snapshot Elasticsearch analyses the list of the index files that are already stored in the repository and copies only files that were created or changed since the last snapshot. è¿™é‡Œè¯´snapshotæ˜¯å¢é‡å¤‡ä»½çš„ï¼Œæ¯æ¬¡snapshotï¼ŒEsä¼šåˆ†æindexæ–‡ä»¶ï¼Œå¹¶ä¸”åªå¤‡ä»½å¢é‡éƒ¨åˆ†ã€‚ snapshotæ˜¯å¢é‡å¤‡ä»½ï¼Œå¯¹æœªå‘ç”Ÿå˜åŒ–çš„indexé‡å¤å¤‡ä»½å‡ ä¹æ²¡æœ‰èµ„æºæ¶ˆè€—ï¼› åˆ é™¤snapshotä¸ä¼šå¯¹å…¶å®ƒsnapshotäº§ç”Ÿå½±å“ï¼› snapshotæ˜¯å¢é‡å¤‡ä»½ï¼Œå¯¹æœªå‘ç”Ÿå˜åŒ–çš„indexé‡å¤å¤‡ä»½å‡ ä¹æ²¡æœ‰èµ„æºæ¶ˆè€— åˆ é™¤æŸä¸ªsnapshotä¸ä¼šå¯¹å…¶å®ƒsnapshotäº§ç”Ÿå½±å“ã€‚ æ“ä½œå»ºä»“...</div></div></div></a><a class="pagination-related" href="/posts/3cc5542c/" title="Elasticsearchä¹‹ç¼“å­˜"><img class="cover" src="/img/loading.gif" data-lazy-src="/img/nba-logo12.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2024-07-19</div><div class="info-item-2">Elasticsearchä¹‹ç¼“å­˜</div></div><div class="info-2"><div class="info-item-1">è½¬è‡ªï¼šhttps://www.jianshu.com/p/1ec202148189 Elasticsearch åŒ…å«ä¸‰ä¸ªç±»å‹çš„ç¼“å­˜ï¼Œåˆ†åˆ«ä¸ºï¼š Node Query Cache ã€ Shard Request Cache ã€ Fielddata Cacheã€‚ Node Query Cacheä½œç”¨åŸŸQuery Cacheæ˜¯Nodeçº§åˆ«çš„ï¼Œè¢«æ‰€æœ‰shardå…±äº«ã€‚ æ—©æœŸç‰ˆæœ¬ä¹Ÿå«åšä¸ºFilter Cacheï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒçš„ä½œç”¨æ˜¯å¯¹è¿‡æ»¤å™¨çš„æ‰§è¡Œç»“æœè¿›è¡Œç¼“å­˜ã€‚ Query Cacheç¼“å­˜çš„æ˜¯å‹ç¼©è¿‡çš„bitsetï¼Œå¯¹åº”æ»¡è¶³Queryæ¡ä»¶çš„docIDåˆ—è¡¨ã€‚æ·»åŠ cacheçš„æ—¶å€™ï¼Œä¼šæ³¨å†Œä¸€ä¸ªå›è°ƒï¼Œå¦‚æœSegmentè¢«åˆå¹¶æˆ–è€…åˆ é™¤ï¼Œé‚£ä¹ˆå°±ä¼šè¢«ç§»é™¤ç¼“å­˜ ç®€å•æ¥çœ‹å¯ä»¥è¿™æ ·ç†è§£ï¼Œä¸€ä¸ªESçš„æŸ¥è¯¢ä¼šå…ˆè¢«parse æˆä¸€ç³»åˆ—Lucene çš„phraseï¼Œè¿™äº›phrases ä¸­çš„filterè¯­å¥ï¼Œå¦‚æœå¯¹äºæŸ¥è¯¢æ¡ä»¶æ˜¯ä¸€æ ·çš„æ—¶å€™ï¼Œå…¶å®ç»“æœé›†æ˜¯å·²å®šçš„ï¼Œé‚£ä¹ˆè¿™äº›phrase å…¶å®å°±æ˜¯å¯ä»¥å­˜æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹å½“åšcacheç”¨ï¼Œè¿™ä¸ªå°±æ˜¯ query cacheã€‚ é…ç½®å‚æ•°æ—¢ç„¶æ˜¯ç¼“å­˜ï¼Œè‚¯å®šä¼šå¯¹æ•°é‡å’Œå†…å­˜æœ‰é™åˆ¶ã€‚é€šè¿‡_nodes/stat...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/img/avatar.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">å°äº”</div><div class="author-info-description">Tomorrow will be better,Everything will be fine</div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">554</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">168</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">55</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/wang-xiaowu"><i class="fab fa-github"></i><span>GitHub</span></a><div class="card-info-social-icons"><a class="social-icon" href="/random" target="_blank" title="éšä¾¿é€›é€›"><i class="fa-solid fa-shuffle"></i></a><a class="social-icon" href="mailto:wangxiaowu950330@foxmail.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/30655189?spm_id_from=333.1007.0.0" rel="external nofollow noreferrer" target="_blank" title="BiliBili"><i class="fa-brands fa-bilibili"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fa-solid fa-rss"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ES%E5%86%85%E7%BD%AE%E7%9A%84Analyzer%E5%88%86%E6%9E%90%E5%99%A8"><span class="toc-number">1.</span> <span class="toc-text">ESå†…ç½®çš„Analyzeråˆ†æå™¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%8B%BC%E9%9F%B3%E5%88%86%E8%AF%8D%E5%99%A8"><span class="toc-number">2.</span> <span class="toc-text">æ‹¼éŸ³åˆ†è¯å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85"><span class="toc-number">2.1.</span> <span class="toc-text">1. åœ¨çº¿å®‰è£…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85"><span class="toc-number">2.2.</span> <span class="toc-text">2. ç¦»çº¿å®‰è£…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-pinyin%E5%88%86%E8%AF%8D%E5%99%A8%E7%9A%84%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E5%88%97%E8%A1%A8"><span class="toc-number">2.3.</span> <span class="toc-text">3. pinyinåˆ†è¯å™¨çš„é…ç½®å‚æ•°åˆ—è¡¨</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#IK%E5%88%86%E8%AF%8D%E5%99%A8"><span class="toc-number">3.</span> <span class="toc-text">IKåˆ†è¯å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85ik%E6%8F%92%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">1.åœ¨çº¿å®‰è£…ikæ’ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%A6%BB%E7%BA%BF%E5%AE%89%E8%A3%85ik%E6%8F%92%E4%BB%B6"><span class="toc-number">3.2.</span> <span class="toc-text">2.ç¦»çº¿å®‰è£…ikæ’ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%BC%89%E9%87%8D%E5%90%AF%E5%AE%B9%E5%99%A8"><span class="toc-number">3.2.1.</span> <span class="toc-text">4ï¼‰é‡å¯å®¹å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%EF%BC%89%E6%B5%8B%E8%AF%95"><span class="toc-number">3.2.2.</span> <span class="toc-text">5ï¼‰æµ‹è¯•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%89%A9%E5%B1%95%E8%AF%8D%E8%AF%8D%E5%85%B8"><span class="toc-number">3.3.</span> <span class="toc-text">3 æ‰©å±•è¯è¯å…¸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%81%9C%E7%94%A8%E8%AF%8D%E8%AF%8D%E5%85%B8"><span class="toc-number">3.4.</span> <span class="toc-text">4 åœç”¨è¯è¯å…¸</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E5%88%86%E8%AF%8D%E5%99%A8%E5%AE%89%E8%A3%85%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F"><span class="toc-number">4.</span> <span class="toc-text">æµ‹è¯•åˆ†è¯å™¨å®‰è£…æ˜¯å¦æˆåŠŸ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ngram%E5%88%86%E8%AF%8D%E5%99%A8"><span class="toc-number">5.</span> <span class="toc-text">ngramåˆ†è¯å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">5.1.</span> <span class="toc-text">ç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFngram-%E5%88%86%E8%AF%8D%E5%99%A8%EF%BC%9F"><span class="toc-number">5.1.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯ngram åˆ†è¯å™¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ngram%E5%92%8Cindex-time%E6%90%9C%E7%B4%A2%E6%8E%A8%E8%8D%90%E5%8E%9F%E7%90%86"><span class="toc-number">5.1.2.</span> <span class="toc-text">ngramå’Œindex-timeæœç´¢æ¨èåŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ngram%E5%88%86%E8%AF%8D%E5%AE%9E%E8%B7%B5"><span class="toc-number">5.1.3.</span> <span class="toc-text">ngramåˆ†è¯å®è·µ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wildcard%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88-ngram-term-match-phrase"><span class="toc-number">5.2.</span> <span class="toc-text">wildcardçš„æ›¿ä»£æ–¹æ¡ˆ: ngram+term&#x2F;match_phrase</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%83%8C%E6%99%AF"><span class="toc-number">5.2.1.</span> <span class="toc-text">èƒŒæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#match-phrase%E8%83%BD%E5%A4%9F%E5%AE%9E%E7%8E%B0%E8%AF%8D%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.2.1.1.</span> <span class="toc-text">match_phraseèƒ½å¤Ÿå®ç°è¯ç»„æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ngram%E5%88%86%E8%AF%8D%E8%83%BD%E5%A4%9F%E5%AE%9E%E7%8E%B0%E6%8C%89%E6%8C%87%E5%AE%9A%E9%95%BF%E5%BA%A6%E5%AF%B9%E6%96%87%E6%9C%AC%E8%BF%9B%E8%A1%8C%E5%88%86%E8%AF%8D%E3%80%82"><span class="toc-number">5.2.1.2.</span> <span class="toc-text">ngramåˆ†è¯èƒ½å¤Ÿå®ç°æŒ‰æŒ‡å®šé•¿åº¦å¯¹æ–‡æœ¬è¿›è¡Œåˆ†è¯ã€‚</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E8%BF%94%E5%9B%9E%E6%9F%A5%E8%AF%A2%E6%9D%A1%E4%BB%B6%E9%95%BF%E5%BA%A6%E5%B0%8F%E4%BA%8E5%E6%97%B6%E7%9A%84%E7%BB%93%E6%9E%9C"><span class="toc-number">5.2.1.3.</span> <span class="toc-text">å¦‚ä½•æ­£ç¡®è¿”å›æŸ¥è¯¢æ¡ä»¶é•¿åº¦å°äº5æ—¶çš„ç»“æœ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%A1%88"><span class="toc-number">5.2.2.</span> <span class="toc-text">æ–¹æ¡ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E6%96%BD"><span class="toc-number">5.2.3.</span> <span class="toc-text">å®æ–½</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95"><span class="toc-number">5.2.3.1.</span> <span class="toc-text">åˆ›å»ºç´¢å¼•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E6%95%B0%E6%8D%AE"><span class="toc-number">5.2.3.2.</span> <span class="toc-text">æ–°å¢æ•°æ®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5"><span class="toc-number">5.2.3.3.</span> <span class="toc-text">æŸ¥è¯¢è¯­å¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ngram%E4%BD%BF%E7%94%A8%E6%80%9D%E8%80%83"><span class="toc-number">5.2.4.</span> <span class="toc-text">ngramä½¿ç”¨æ€è€ƒ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#edge-gram%E5%88%86%E8%AF%8D%E5%99%A8"><span class="toc-number">5.3.</span> <span class="toc-text">edge_gramåˆ†è¯å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">5.3.1.</span> <span class="toc-text">ä½¿ç”¨</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%88%86%E8%AF%8D%E5%99%A8"><span class="toc-number">6.</span> <span class="toc-text">å…¶ä»–åˆ†è¯å™¨</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/d31147a5/" title="Clawdbotå®Œæ•´é…ç½®æŒ‡å—"><img src="/img/loading.gif" data-lazy-src="/img/nba-logo16.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Clawdbotå®Œæ•´é…ç½®æŒ‡å—"></a><div class="content"><a class="title" href="/posts/d31147a5/" title="Clawdbotå®Œæ•´é…ç½®æŒ‡å—">Clawdbotå®Œæ•´é…ç½®æŒ‡å—</a><time datetime="2026-02-11T10:15:08.000Z" title="å‘è¡¨äº 2026-02-11 18:15:08">2026-02-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/4d3a9a89/" title="å¤„ç† Rancher è¿æ¥èŠ‚ç‚¹ &quot;Cluster agent is not connected&quot;"><img src="/img/loading.gif" data-lazy-src="/img/nba-logo29.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="å¤„ç† Rancher è¿æ¥èŠ‚ç‚¹ &quot;Cluster agent is not connected&quot;"></a><div class="content"><a class="title" href="/posts/4d3a9a89/" title="å¤„ç† Rancher è¿æ¥èŠ‚ç‚¹ &quot;Cluster agent is not connected&quot;">å¤„ç† Rancher è¿æ¥èŠ‚ç‚¹ &quot;Cluster agent is not connected&quot;</a><time datetime="2026-02-03T06:02:28.000Z" title="å‘è¡¨äº 2026-02-03 14:02:28">2026-02-03</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(/img/nba-logo27.jpg)"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2019 - 2026 By å°äº”</span><span class="framework-info"><span>æ¡†æ¶</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>ä¸»é¢˜</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.1</a></span></div><div class="footer_custom_text"><a href="https://www.foreverblog.cn/" rel="external nofollow noreferrer" target="_blank"><img src="/img/loading.gif" data-lazy-src="https://img.foreverblog.cn/logo_en_default.png" alt="åå¹´ä¹‹çº¦" style="width:auto;height:16px"></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly@5.5.1/source/js/utils.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly@5.5.1/source/js/main.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly@5.5.1/source/js/tw_cn.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(()=>{const e=()=>{const e=document.querySelectorAll("#article-container .mermaid-wrap");if(0===e.length)return;const t=()=>(e=>{window.loadMermaid=!0;const t="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";e.forEach(((e,n)=>{const d=e.firstElementChild,a=`mermaid-${n}`,r=`%%{init:{ 'theme':'${t}'}}%%\n`+d.textContent,i=mermaid.render(a,r),m=e=>{d.insertAdjacentHTML("afterend",e)};"string"==typeof i?m(i):i.then((({svg:e})=>m(e)))}))})(e);btf.addGlobalFn("themeChange",t,"mermaid"),window.loadMermaid?t():btf.getScript("https://cdn.jsdelivr.net/npm/mermaid@11.12.0/dist/mermaid.min.js").then(t)};btf.addGlobalFn("encrypt",e,"mermaid"),window.pjax?e():document.addEventListener("DOMContentLoaded",e)})()</script><script>(()=>{const t=(e,a)=>{"object"==typeof e&&null!==e&&Object.keys(e).forEach((r=>{const n=e[r];"object"==typeof n&&null!==n&&(n[a]?e[r]=n[a]:t(n,a))}))},e=e=>{window.loadChartJS=!0,Array.from(e).forEach(((e,a)=>{const r=e.firstElementChild,n=e.getAttribute("data-chartjs-id")||"chartjs-"+a,d=e.getAttribute("data-width"),o=document.getElementById(n);o&&o.parentNode.remove();const c=r.textContent,l=document.createElement("canvas");l.id=n;const s=document.createElement("div");s.className="chartjs-wrap",d&&(s.style.width=d),s.appendChild(l),r.insertAdjacentElement("afterend",s);const h=document.getElementById(n).getContext("2d"),i=JSON.parse(c),m="dark"===document.documentElement.getAttribute("data-theme")?"dark-mode":"light-mode";(t=>{"dark-mode"===t?(Chart.defaults.color="rgba(255, 255, 255, 0.8)",Chart.defaults.borderColor="rgba(255, 255, 255, 0.2)",Chart.defaults.scale.ticks.backdropColor="transparent"):(Chart.defaults.color="rgba(0, 0, 0, 0.8)",Chart.defaults.borderColor="rgba(0, 0, 0, 0.1)",Chart.defaults.scale.ticks.backdropColor="transparent")})(m),t(i,m),new Chart(h,i)}))},a=()=>{const t=document.querySelectorAll("#article-container .chartjs-container");0!==t.length&&(window.loadChartJS?e(t):btf.getScript("https://cdn.jsdelivr.net/npm/chart.js@4.5.0/dist/chart.umd.min.js").then((()=>e(t))))};btf.addGlobalFn("themeChange",a,"chartjs"),btf.addGlobalFn("encrypt",a,"chartjs"),window.pjax?a():document.addEventListener("DOMContentLoaded",a)})()</script></div><div class="aplayer no-destroy" data-id="9061017364" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listfolded="false" data-order="random" data-lrctype="1" data-preload="none" data-autoplay="false" muted></div><div class="app-refresh" id="app-refresh"><div class="app-refresh-wrap"><label>ç½‘ç«™å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬</label> <a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="location.reload()">ç‚¹å‡»åˆ·æ–°</a></div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"å·²æ›´æ–°æœ€æ–°ç‰ˆæœ¬",backgroundColor:t,duration:5e5,pos:e,actionText:"ç‚¹å‡»åˆ·æ–°",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",(function(){showNotification()})),window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js")})))</script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script defer src="/js/diytitle.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,POWERMODE.mobile=!0,document.body.addEventListener("input",POWERMODE)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/metingjs/dist/Meting.min.js"></script><script>btf.addGlobalFn("pjaxSend",(()=>{if(window.aplayers)for(let a=0;a<window.aplayers.length;a++)window.aplayers[a].options.fixed||window.aplayers[a].destroy()}),"destroyAplayer"),btf.addGlobalFn("pjaxComplete",loadMeting,"runMetingJS")</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>(()=>{window.pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/talking/"]):not([href="/artitalk/"])',selectors:['meta[property="og:image"]','meta[property="og:title"]','meta[property="og:url"]','meta[property="og:description"]','link[rel="canonical"]',"head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"],cacheBust:!1,analytics:!0,scrollRestoration:!1});const e=e=>{e&&Object.values(e).forEach((e=>{try{e()}catch(e){console.debug("Pjax callback failed:",e)}}))};document.addEventListener("pjax:send",(()=>{btf.removeGlobalFnEvent("pjaxSendOnce"),btf.removeGlobalFnEvent("themeChange");const t=document.body.classList;t.contains("read-mode")&&t.remove("read-mode"),e(window.globalFn.pjaxSend)})),document.addEventListener("pjax:complete",(()=>{btf.removeGlobalFnEvent("pjaxCompleteOnce"),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),a=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(a)),e.parentNode.replaceChild(t,e)})),e(window.globalFn.pjaxComplete)})),document.addEventListener("pjax:error",(e=>{if(404===e.request.status){!0?pjax.loadUrl("/404"):window.location.href="/404"}}))})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div id="algolia-search-input"><div class="ais-SearchBox"><form class="ais-SearchBox-form" action="" role="search" novalidate><input class="ais-SearchBox-input" type="search" placeholder="æœç´¢æ–‡ç« " autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" maxlength="512" aria-label="Search"><button class="ais-SearchBox-submit" type="submit" title="Submit the search query" style="display:none"><svg class="ais-SearchBox-submitIcon" width="10" height="10" viewBox="0 0 40 40" aria-hidden="true"><path d="M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"></path></svg></button></form></div><hr><div id="algolia-search-results"><div id="algolia-hits"><div id="algolia-hits-empty" style="display:none"></div><div class="ais-Hits" style="display:none"><ol class="ais-Hits-list"></ol></div></div><div class="ais-Pagination" id="algolia-pagination" style="display:none"><ul class="ais-Pagination-list"></ul></div><div id="algolia-info"><span class="ais-Stats-text"></span><a class="algolia-poweredBy" href="https://www.algolia.com/?utm_source=algoliasearch.js&amp;utm_medium=website&amp;utm_content=localhost&amp;utm_campaign=poweredby" target="_blank" aria-label="Search by Algolia" rel="noopener noreferrer"><svg class="ais-PoweredBy-logo" height="1.2em" viewBox="0 0 572 64" style="width:auto"><path fill="#36395A" d="M16 48.3c-3.4 0-6.3-.6-8.7-1.7A12.4 12.4 0 0 1 1.9 42C.6 40 0 38 0 35.4h6.5a6.7 6.7 0 0 0 3.9 6c1.4.7 3.3 1.1 5.6 1.1 2.2 0 4-.3 5.4-1a7 7 0 0 0 3-2.4 6 6 0 0 0 1-3.4c0-1.5-.6-2.8-1.9-3.7-1.3-1-3.3-1.6-5.9-1.8l-4-.4c-3.7-.3-6.6-1.4-8.8-3.4a10 10 0 0 1-3.3-7.9c0-2.4.6-4.6 1.8-6.4a12 12 0 0 1 5-4.3c2.2-1 4.7-1.6 7.5-1.6s5.5.5 7.6 1.6a12 12 0 0 1 5 4.4c1.2 1.8 1.8 4 1.8 6.7h-6.5a6.4 6.4 0 0 0-3.5-5.9c-1-.6-2.6-1-4.4-1s-3.2.3-4.4 1c-1.1.6-2 1.4-2.6 2.4-.5 1-.8 2-.8 3.1a5 5 0 0 0 1.5 3.6c1 1 2.6 1.7 4.7 1.9l4 .3c2.8.2 5.2.8 7.2 1.8 2.1 1 3.7 2.2 4.9 3.8a9.7 9.7 0 0 1 1.7 5.8c0 2.5-.7 4.7-2 6.6a13 13 0 0 1-5.6 4.4c-2.4 1-5.2 1.6-8.4 1.6Zm35.6 0c-2.6 0-4.8-.4-6.7-1.3a13 13 0 0 1-4.7-3.5 17.1 17.1 0 0 1-3.6-10.4v-1c0-2 .3-3.8 1-5.6a13 13 0 0 1 7.3-8.3 15 15 0 0 1 6.3-1.4A13.2 13.2 0 0 1 64 24.3c1 2.2 1.6 4.6 1.6 7.2V34H39.4v-4.3h21.8l-1.8 2.2c0-2-.3-3.7-.9-5.1a7.3 7.3 0 0 0-2.7-3.4c-1.2-.7-2.7-1.1-4.6-1.1s-3.4.4-4.7 1.3a8 8 0 0 0-2.9 3.6c-.6 1.5-.9 3.3-.9 5.4 0 2 .3 3.7 1 5.3a7.9 7.9 0 0 0 2.8 3.7c1.3.8 3 1.3 5 1.3s3.8-.5 5.1-1.3c1.3-1 2.1-2 2.4-3.2h6a11.8 11.8 0 0 1-7 8.7 16 16 0 0 1-6.4 1.2ZM80 48c-2.2 0-4-.3-5.7-1a8.4 8.4 0 0 1-3.7-3.3 9.7 9.7 0 0 1-1.3-5.2c0-2 .5-3.8 1.5-5.2a9 9 0 0 1 4.3-3.1c1.8-.7 4-1 6.7-1H89v4.1h-7.5c-2 0-3.4.5-4.4 1.4-1 1-1.6 2.1-1.6 3.6s.5 2.7 1.6 3.6c1 1 2.5 1.4 4.4 1.4 1.1 0 2.2-.2 3.2-.7 1-.4 1.9-1 2.6-2 .6-1 1-2.4 1-4.2l1.7 2.1c-.2 2-.7 3.8-1.5 5.2a9 9 0 0 1-3.4 3.3 12 12 0 0 1-5.3 1Zm9.5-.7v-8.8h-1v-10c0-1.8-.5-3.2-1.4-4.1-1-1-2.4-1.4-4.2-1.4a142.9 142.9 0 0 0-10.2.4v-5.6a74.8 74.8 0 0 1 8.6-.4c3 0 5.5.4 7.5 1.2s3.4 2 4.4 3.6c1 1.7 1.4 4 1.4 6.7v18.4h-5Zm12.9 0V17.8h5v12.3h-.2c0-4.2 1-7.4 2.8-9.5a11 11 0 0 1 8.3-3.1h1v5.6h-2a9 9 0 0 0-6.3 2.2c-1.5 1.5-2.2 3.6-2.2 6.4v15.6h-6.4Zm34.4 1a15 15 0 0 1-6.6-1.3c-1.9-.9-3.4-2-4.7-3.5a15.5 15.5 0 0 1-2.7-5c-.6-1.7-1-3.6-1-5.4v-1c0-2 .4-3.8 1-5.6a15 15 0 0 1 2.8-4.9c1.3-1.5 2.8-2.6 4.6-3.5a16.4 16.4 0 0 1 13.3.2c2 1 3.5 2.3 4.8 4a12 12 0 0 1 2 6H144c-.2-1.6-1-3-2.2-4.1a7.5 7.5 0 0 0-5.2-1.7 8 8 0 0 0-4.7 1.3 8 8 0 0 0-2.8 3.6 13.8 13.8 0 0 0 0 10.3c.6 1.5 1.5 2.7 2.8 3.6s2.8 1.3 4.8 1.3c1.5 0 2.7-.2 3.8-.8a7 7 0 0 0 2.6-2c.7-1 1-2 1.2-3.2h6.2a11 11 0 0 1-2 6.2 15.1 15.1 0 0 1-11.8 5.5Zm19.7-1v-40h6.4V31h-1.3c0-3 .4-5.5 1.1-7.6a9.7 9.7 0 0 1 3.5-4.8A9.9 9.9 0 0 1 172 17h.3c3.5 0 6 1.1 7.9 3.5 1.7 2.3 2.6 5.7 2.6 10v16.8h-6.4V29.6c0-2.1-.6-3.8-1.8-5a6.4 6.4 0 0 0-4.8-1.8c-2 0-3.7.7-5 2a7.8 7.8 0 0 0-1.9 5.5v17h-6.4Zm63.8 1a12.2 12.2 0 0 1-10.9-6.2 19 19 0 0 1-1.8-7.3h1.4v12.5h-5.1v-40h6.4v19.8l-2 3.5c.2-3.1.8-5.7 1.9-7.7a11 11 0 0 1 4.4-4.5c1.8-1 3.9-1.5 6.1-1.5a13.4 13.4 0 0 1 12.8 9.1c.7 1.9 1 3.8 1 6v1c0 2.2-.3 4.1-1 6a13.6 13.6 0 0 1-13.2 9.4Zm-1.2-5.5a8.4 8.4 0 0 0 7.9-5c.7-1.5 1.1-3.3 1.1-5.3s-.4-3.8-1.1-5.3a8.7 8.7 0 0 0-3.2-3.6 9.6 9.6 0 0 0-9.2-.2 8.5 8.5 0 0 0-3.3 3.2c-.8 1.4-1.3 3-1.3 5v2.3a9 9 0 0 0 1.3 4.8 9 9 0 0 0 3.4 3c1.4.7 2.8 1 4.4 1Zm27.3 3.9-10-28.9h6.5l9.5 28.9h-6Zm-7.5 12.2v-5.7h4.9c1 0 2-.1 2.9-.4a4 4 0 0 0 2-1.4c.4-.7.9-1.6 1.2-2.7l8.6-30.9h6.2l-9.3 32.4a14 14 0 0 1-2.5 5 8.9 8.9 0 0 1-4 2.8c-1.5.6-3.4.9-5.6.9h-4.4Zm9-12.2v-5.2h6.4v5.2H248Z"></path><path fill="#003DFF" d="M534.4 9.1H528a.8.8 0 0 1-.7-.7V1.8c0-.4.2-.7.6-.8l6.5-1c.4 0 .8.2.9.6v7.8c0 .4-.4.7-.8.7zM428 35.2V.8c0-.5-.3-.8-.7-.8h-.2l-6.4 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.5 0 .8-.4.8-.8V43c0-.4-.3-.7-.6-.8-4.5-.5-4.5-6-4.5-7zm106.5-21.8H528c-.4 0-.7.4-.7.8v34c0 .4.3.8.7.8h6.5c.4 0 .8-.4.8-.8v-34c0-.5-.4-.8-.8-.8zm-17.7 21.8V.8c0-.5-.3-.8-.8-.8l-6.5 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.4 0 .8-.4.8-.8V43c0-.4-.3-.7-.7-.8-4.4-.5-4.4-6-4.4-7zm-22.2-20.6a16.5 16.5 0 0 1 8.6 9.3c.8 2.2 1.3 4.8 1.3 7.5a19.4 19.4 0 0 1-4.6 12.6 14.8 14.8 0 0 1-5.2 3.6c-2 .9-5.2 1.4-6.8 1.4a21 21 0 0 1-6.7-1.4 15.4 15.4 0 0 1-8.6-9.3 21.3 21.3 0 0 1 0-14.4 15.2 15.2 0 0 1 8.6-9.3c2-.8 4.3-1.2 6.7-1.2s4.6.4 6.7 1.2zm-6.7 27.6c2.7 0 4.7-1 6.2-3s2.2-4.3 2.2-7.8-.7-6.3-2.2-8.3-3.5-3-6.2-3-4.7 1-6.1 3c-1.5 2-2.2 4.8-2.2 8.3s.7 5.8 2.2 7.8 3.5 3 6.2 3zm-88.8-28.8c-6.2 0-11.7 3.3-14.8 8.2a18.6 18.6 0 0 0 4.8 25.2c1.8 1.2 4 1.8 6.2 1.7s.1 0 .1 0h.9c4.2-.7 8-4 9.1-8.1v7.4c0 .4.3.7.8.7h6.4a.7.7 0 0 0 .7-.7V14.2c0-.5-.3-.8-.7-.8h-13.5zm6.3 26.5a9.8 9.8 0 0 1-5.7 2h-.5a10 10 0 0 1-9.2-14c1.4-3.7 5-6.3 9-6.3h6.4v18.3zm152.3-26.5h13.5c.5 0 .8.3.8.7v33.7c0 .4-.3.7-.8.7h-6.4a.7.7 0 0 1-.8-.7v-7.4c-1.2 4-4.8 7.4-9 8h-.1a4.2 4.2 0 0 1-.5.1h-.9a10.3 10.3 0 0 1-7-2.6c-4-3.3-6.5-8.4-6.5-14.2 0-3.7 1-7.2 3-10 3-5 8.5-8.3 14.7-8.3zm.6 28.4c2.2-.1 4.2-.6 5.7-2V21.7h-6.3a9.8 9.8 0 0 0-9 6.4 10.2 10.2 0 0 0 9.1 13.9h.5zM452.8 13.4c-6.2 0-11.7 3.3-14.8 8.2a18.5 18.5 0 0 0 3.6 24.3 10.4 10.4 0 0 0 13 .6c2.2-1.5 3.8-3.7 4.5-6.1v7.8c0 2.8-.8 5-2.2 6.3-1.5 1.5-4 2.2-7.5 2.2l-6-.3c-.3 0-.7.2-.8.5l-1.6 5.5c-.1.4.1.8.5 1h.1c2.8.4 5.5.6 7 .6 6.3 0 11-1.4 14-4.1 2.7-2.5 4.2-6.3 4.5-11.4V14.2c0-.5-.4-.8-.8-.8h-13.5zm6.3 8.2v18.3a9.6 9.6 0 0 1-5.6 2h-1a10.3 10.3 0 0 1-8.8-14c1.4-3.7 5-6.3 9-6.3h6.4zM291 31.5A32 32 0 0 1 322.8 0h30.8c.6 0 1.2.5 1.2 1.2v61.5c0 1.1-1.3 1.7-2.2 1l-19.2-17a18 18 0 0 1-11 3.4 18.1 18.1 0 1 1 18.2-14.8c-.1.4-.5.7-.9.6-.1 0-.3 0-.4-.2l-3.8-3.4c-.4-.3-.6-.8-.7-1.4a12 12 0 1 0-2.4 8.3c.4-.4 1-.5 1.6-.2l14.7 13.1v-46H323a26 26 0 1 0 10 49.7c.8-.4 1.6-.2 2.3.3l3 2.7c.3.2.3.7 0 1l-.2.2a32 32 0 0 1-47.2-28.6z"></path></svg></a></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch@5.39.0/dist/lite/builds/browser.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-theme-butterfly@5.5.1/source/js/search/algolia.min.js"></script></div></div><script data-pjax>if(document.getElementById("recent-posts")&&"/"==location.pathname){var parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/img/loading.gif" data-lazy-src="/img/nba-logo3.jpg" alt="/img/nba-logo3.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2024-02-02</span><a class="blog-slider__title" href="posts/1bcb0ad4/">å•ç¯å¢ƒ,å¤šåˆ†æ”¯å¹¶è¡Œå¼€å‘æ–¹æ¡ˆ(æµé‡æŸ“è‰²/istio)</a><div class="blog-slider__text">å•ç¯å¢ƒ,å¤šåˆ†æ”¯å¹¶è¡Œå¼€å‘æ–¹æ¡ˆ(æµé‡æŸ“è‰²/istio)</div><a class="blog-slider__button" href="posts/1bcb0ad4/">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/img/loading.gif" data-lazy-src="/img/nba-logo22.jpg" alt="/img/nba-logo22.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2023-06-14</span><a class="blog-slider__title" href="posts/aa43cc95/">è®°å½•k8sç¯å¢ƒä¸‹ç»“åˆalinodeçš„ä½¿ç”¨</a><div class="blog-slider__text">è®°å½•k8sç¯å¢ƒä¸‹ç»“åˆalinodeçš„ä½¿ç”¨</div><a class="blog-slider__button" href="posts/aa43cc95/">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/img/loading.gif" data-lazy-src="/img/nba-logo29.jpg" alt="/img/nba-logo29.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2022-12-13</span><a class="blog-slider__title" href="posts/15957791/">k8sç¯å¢ƒä¸‹,nginxåšwebsocketè´Ÿè½½çš„æ–¹æ¡ˆæ¢³ç†</a><div class="blog-slider__text">k8sç¯å¢ƒä¸‹,nginxåšwebsocketè´Ÿè½½çš„æ–¹æ¡ˆæ¢³ç†</div><a class="blog-slider__button" href="posts/15957791/">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/img/loading.gif" data-lazy-src="/img/nba-logo22.jpg" alt="/img/nba-logo22.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2023-09-26</span><a class="blog-slider__title" href="posts/4ecfb081/">è®°å½•ä¸€æ¬¡k8sç½‘ç»œDNSé—®é¢˜æ’æŸ¥è¿‡ç¨‹</a><div class="blog-slider__text">è®°å½•ä¸€æ¬¡k8sç½‘ç»œDNSé—®é¢˜æ’æŸ¥è¿‡ç¨‹</div><a class="blog-slider__button" href="posts/4ecfb081/">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/img/loading.gif" data-lazy-src="/img/nba-logo22.jpg" alt="/img/nba-logo22.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2023-09-26</span><a class="blog-slider__title" href="posts/37032a87/">k3sé«˜å¯ç”¨å®‰è£…</a><div class="blog-slider__text">k3sé«˜å¯ç”¨å®‰è£…</div><a class="blog-slider__button" href="posts/37032a87/">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/img/loading.gif" data-lazy-src="/img/nba-logo5.jpg" alt="/img/nba-logo5.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2022-11-27</span><a class="blog-slider__title" href="posts/20b19ed4/">åˆ†è¯æœç´¢éœ€æ±‚æ•´ç†</a><div class="blog-slider__text">åˆ†è¯æœç´¢éœ€æ±‚æ•´ç†</div><a class="blog-slider__button" href="posts/20b19ed4/">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/img/loading.gif" data-lazy-src="/img/nba-logo26.jpg" alt="/img/nba-logo26.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2022-12-02</span><a class="blog-slider__title" href="posts/6de14387/">æ•´ç†wsl2é…åˆå¼€å‘çš„ä¸€äº›é…ç½®</a><div class="blog-slider__text">æ•´ç†wsl2é…åˆå¼€å‘çš„ä¸€äº›é…ç½®</div><a class="blog-slider__button" href="posts/6de14387/">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/img/loading.gif" data-lazy-src="/img/nba-logo22.jpg" alt="/img/nba-logo22.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-12-11</span><a class="blog-slider__title" href="posts/fb9adcb6/">è®°å½•windows11+wsl2ç¯å¢ƒæ­é…</a><div class="blog-slider__text">windows11+wsl2å¼€å‘ç¯å¢ƒé…ç½®</div><a class="blog-slider__button" href="posts/fb9adcb6/">è¯¦æƒ…</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="/img/loading.gif" data-lazy-src="/img/nba-logo26.jpg" alt="/img/nba-logo26.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2026-01-28</span><a class="blog-slider__title" href="posts/2a9d73ff/">æ•™ä½ å¦‚ä½•é›¶æˆæœ¬ä»0åˆ°1ï¼Œå¼€å‘ä¸Šçº¿ä¸€ä¸ªå¯¹æ¥äº†openAIçš„æœºå™¨äºº</a><div class="blog-slider__text">æ•™ä½ å¦‚ä½•é›¶æˆæœ¬ä»0åˆ°1ï¼Œå¼€å‘ä¸Šçº¿ä¸€ä¸ªå¯¹æ¥äº†openAIçš„æœºå™¨äºº</div><a class="blog-slider__button" href="posts/2a9d73ff/">è¯¦æƒ…</a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';console.log("å·²æŒ‚è½½swiper"),parent.insertAdjacentHTML("afterbegin",child)}</script><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper/swiper/swiper.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-swiper@0.18/swiper/swiperindex.js"></script><style></style><script data-pjax>function history_calendar_injector_config(){var i=document.getElementsByClassName("sticky_layout")[0];console.log("å·²æŒ‚è½½history_calendar"),i.insertAdjacentHTML("afterbegin",'<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>é‚£å¹´ä»Šæ—¥</span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>')}document.getElementsByClassName("sticky_layout")[0]&&"/"===location.pathname&&history_calendar_injector_config()</script><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/wanko.model.json"},display:{position:"right",width:150,height:300,hOffset:20,vOffset:-20},mobile:{show:!0},log:!1,pluginJsPath:"lib/",pluginModelPath:"assets/",pluginRootPath:"live2dw/"})</script></body></html>